# –ú–æ–¥—É–ª –∑–∞ –¥—ä–ª–≥–æ—Ç—Ä–∞–π–Ω–∏ –∞–∫—Ç–∏–≤–∏ –∏ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏

–¢–æ–∑–∏ –º–æ–¥—É–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –ø—ä–ª–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥—ä–ª–≥–æ—Ç—Ä–∞–π–Ω–∏ –∞–∫—Ç–∏–≤–∏ (–î–ú–ê) –∏ —Ç—è—Ö–Ω–∞—Ç–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –≤ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –±—ä–ª–≥–∞—Ä—Å–∫–æ—Ç–æ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–æ –∏ –¥–∞–Ω—ä—á–Ω–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—Å—Ç–≤–æ.

## üìã –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ

1. [–ü—Ä–µ–≥–ª–µ–¥](#–ø—Ä–µ–≥–ª–µ–¥)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏)
4. [API Reference](#api-reference)
5. [Frontend Components](#frontend-components)
6. [–°—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞](#—Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏-–ø—Ä–∞–≤–∏–ª–∞)
7. [–ü—Ä–∏–º–µ—Ä–∏ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ](#–ø—Ä–∏–º–µ—Ä–∏-–∑–∞-–∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ)

## –ü—Ä–µ–≥–ª–µ–¥

–ú–æ–¥—É–ª—ä—Ç –ø–æ–¥–¥—ä—Ä–∂–∞:
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –î–ú–ê**: —Å—ä–∑–¥–∞–≤–∞–Ω–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ, —Å–ª–µ–¥–µ–Ω–µ –Ω–∞ –∞–∫—Ç–∏–≤–∏
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–∏**: –∫–ª–∞—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–ø–æ—Ä–µ–¥ –ó–ö–ü–û
- **–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è**: —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –∏ –¥–∞–Ω—ä—á–Ω–∏ –Ω–æ—Ä–º–∏
- **–ñ—É—Ä–Ω–∞–ª –Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏**: –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–æ –æ—Å—á–µ—Ç–æ–≤–æ–¥—è–≤–∞–Ω–µ**: –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∂—É—Ä–Ω–∞–ª–Ω–∏ –∑–∞–ø–∏—Å–∏

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
backend/src/
‚îú‚îÄ‚îÄ entities/
‚îÇ   ‚îú‚îÄ‚îÄ fixed_asset.rs              # –û—Å–Ω–æ–≤–µ–Ω –º–æ–¥–µ–ª –∑–∞ –î–ú–ê
‚îÇ   ‚îú‚îÄ‚îÄ fixed_asset_category.rs     # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–∏
‚îÇ   ‚îî‚îÄ‚îÄ depreciation_journal.rs     # –î–Ω–µ–≤–Ω–∏–∫ –Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ depreciation_service.rs     # –ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ –∑–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ graphql/
    ‚îî‚îÄ‚îÄ fixed_assets_resolvers.rs   # GraphQL API
```

### Frontend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
frontend/src/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ FixedAssets.jsx             # –ì–ª–∞–≤–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îî‚îÄ‚îÄ components/fixedAssets/
    ‚îú‚îÄ‚îÄ AssetsList.jsx              # –°–ø–∏—Å—ä–∫ –∞–∫—Ç–∏–≤–∏
    ‚îú‚îÄ‚îÄ AssetCategories.jsx         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    ‚îú‚îÄ‚îÄ DepreciationCalculation.jsx # –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
    ‚îî‚îÄ‚îÄ DepreciationJournal.jsx     # –î–Ω–µ–≤–Ω–∏–∫ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥—ä–ª–≥–æ—Ç—Ä–∞–π–Ω–∏ –∞–∫—Ç–∏–≤–∏

#### –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∞–∫—Ç–∏–≤
```graphql
mutation CreateFixedAsset {
  createFixedAsset(
    companyId: 1,
    input: {
      inventoryNumber: "–î–ú–ê-001",
      name: "–°–ª—É–∂–µ–±–µ–Ω –∞–≤—Ç–æ–º–æ–±–∏–ª",
      categoryId: 5,
      acquisitionCost: 25000.00,
      acquisitionDate: "2025-01-01",
      accountingUsefulLife: 5,
      accountingDepreciationRate: 20.0,
      taxDepreciationRate: 25.0
    }
  ) {
    id
    inventoryNumber
    name
  }
}
```

#### –ü–æ–ª–µ—Ç–∞ –Ω–∞ –∞–∫—Ç–∏–≤
- **inventoryNumber**: –ò–Ω–≤–µ–Ω—Ç–∞—Ä–µ–Ω –Ω–æ–º–µ—Ä (—É–Ω–∏–∫–∞–ª–µ–Ω)
- **name**: –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –Ω–∞ –∞–∫—Ç–∏–≤a
- **categoryId**: –í—Ä—ä–∑–∫–∞ –∫—ä–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- **acquisitionCost**: –ü—Ä–∏–¥–æ–±–∏–≤–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç
- **acquisitionDate**: –î–∞—Ç–∞ –Ω–∞ –ø—Ä–∏–¥–æ–±–∏–≤–∞–Ω–µ
- **putIntoServiceDate**: –î–∞—Ç–∞ –Ω–∞ –≤—ä–≤–µ–∂–¥–∞–Ω–µ –≤ –µ–∫—Å–ø–ª–æ–∞—Ç–∞—Ü–∏—è
- **accountingUsefulLife**: –ü–æ–ª–µ–∑–µ–Ω –∂–∏–≤–æ—Ç (–≥–æ–¥–∏–Ω–∏)
- **accountingDepreciationRate**: –°—á–µ—Ç–æ–≤–æ–¥–Ω–∞ –Ω–æ—Ä–º–∞ (%)
- **accountingDepreciationMethod**: –ú–µ—Ç–æ–¥ (straight_line, declining_balance)
- **accountingSalvageValue**: –û—Å—Ç–∞—Ç—ä—á–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç
- **taxDepreciationRate**: –î–∞–Ω—ä—á–Ω–∞ –Ω–æ—Ä–º–∞ (%)
- **location**: –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
- **responsiblePerson**: –û—Ç–≥–æ–≤–æ—Ä–Ω–æ –ª–∏—Ü–µ

### 2. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–∏

–ü—Ä–µ–¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–ø–æ—Ä–µ–¥ –ó–ö–ü–û:

| –ö–æ–¥ | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –î–∞–Ω—ä—á–Ω–∞ –≥—Ä—É–ø–∞ | –ú–∞–∫—Å. –Ω–æ—Ä–º–∞ |
|-----|-------------|---------------|-------------|
| BUILDINGS | –°–≥—Ä–∞–¥–∏ –∏ —Å—ä–æ—Ä—ä–∂–µ–Ω–∏—è | 1 | 4% |
| MACHINERY | –ú–∞—à–∏–Ω–∏ –∏ –æ–±–æ—Ä—É–¥–≤–∞–Ω–µ | 2 | 15% |
| TRANSPORT | –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ | 3 | 25% |
| COMPUTERS | –ö–æ–º–ø—é—Ç—Ä–∏ –∏ —Å–æ—Ñ—Ç—É–µ—Ä | 4 | 50% |
| VEHICLES | –ê–≤—Ç–æ–º–æ–±–∏–ª–∏ | 5 | 25% |
| OTHER | –î—Ä—É–≥–∏ –î–ú–ê | 7 | 15% |

### 3. –ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è

#### –¢–∏–ø–æ–≤–µ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è

**–°—á–µ—Ç–æ–≤–æ–¥–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è:**
- –°–ø–æ—Ä–µ–¥ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∞—Ç–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ –Ω–∞ —Ñ–∏—Ä–º–∞—Ç–∞
- –ú–æ–∂–µ –¥–∞ —Å–µ —Ä–∞–∑–ª–∏—á–∞–≤–∞ –æ—Ç –¥–∞–Ω—ä—á–Ω–∞—Ç–∞
- –ú–µ—Ç–æ–¥–∏: –ø—Ä–∞–≤–∏ —Å—Ä–æ–∫, –Ω–∞–º–∞–ª—è–≤–∞—â–∏ –æ—Å—Ç–∞—Ç—ä—Ü–∏

**–î–∞–Ω—ä—á–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è:**
- –°–ø–æ—Ä–µ–¥ –º–∞–∫—Å–∏–º–∞–ª–Ω–∏—Ç–µ –Ω–æ—Ä–º–∏ –≤ –ó–ö–ü–û
- –í–∏–Ω–∞–≥–∏ –ø—Ä–∞–≤–∏ —Å—Ä–æ–∫
- –ó–∞ –¥–∞–Ω—ä—á–Ω–∏ —Ü–µ–ª–∏

#### –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –º–µ—Å–µ—á–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è
```rust
// –°—á–µ—Ç–æ–≤–æ–¥–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è (–ø—Ä–∞–≤–∏ —Å—Ä–æ–∫)
let annual_amount = (acquisition_cost - salvage_value) * (rate / 100);
let monthly_amount = annual_amount / 12;

// –î–∞–Ω—ä—á–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è
let annual_amount = acquisition_cost * (tax_rate / 100);
let monthly_amount = annual_amount / 12;
```

### 4. –ñ—É—Ä–Ω–∞–ª –Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏

–í—Å—è–∫–æ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ —Å–µ –∑–∞–ø–∏—Å–≤–∞ –≤ –∂—É—Ä–Ω–∞–ª–∞:

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| fixed_asset_id | ID –Ω–∞ –∞–∫—Ç–∏–≤a |
| period | –ü–µ—Ä–∏–æ–¥ (YYYY-MM-01) |
| accounting_depreciation_amount | –°—á–µ—Ç–æ–≤–æ–¥–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è |
| accounting_book_value_before/after | –°—á–µ—Ç–æ–≤–æ–¥–Ω–∞ –±–∞–ª–∞–Ω—Å–æ–≤–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç |
| tax_depreciation_amount | –î–∞–Ω—ä—á–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è |
| tax_book_value_before/after | –î–∞–Ω—ä—á–Ω–∞ –±–∞–ª–∞–Ω—Å–æ–≤–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç |
| is_posted | –î–∞–ª–∏ –µ –æ—Å—á–µ—Ç–æ–≤–æ–¥–µ–Ω |
| journal_entry_id | ID –Ω–∞ –∂—É—Ä–Ω–∞–ª–Ω–∏—è –∑–∞–ø–∏—Å |

## API Reference

### GraphQL Queries

#### –ê–∫—Ç–∏–≤–∏
```graphql
# –í—Å–∏—á–∫–∏ –∞–∫—Ç–∏–≤–∏
query GetFixedAssets($companyId: Int!, $status: String, $categoryId: Int) {
  fixedAssets(companyId: $companyId, status: $status, categoryId: $categoryId) {
    id
    inventoryNumber
    name
    acquisitionCost
    accountingBookValue
    taxBookValue
    status
    category {
      name
    }
  }
}

# –ö–æ–Ω–∫—Ä–µ—Ç–µ–Ω –∞–∫—Ç–∏–≤
query GetFixedAsset($id: Int!) {
  fixedAsset(id: $id) {
    id
    inventoryNumber
    name
    # ... –≤—Å–∏—á–∫–∏ –ø–æ–ª–µ—Ç–∞
    category {
      name
    }
  }
}

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
query GetFixedAssetsStats($companyId: Int!) {
  fixedAssetsSummary(companyId: $companyId) {
    totalAssets
    totalAcquisitionCost
    totalAccountingBookValue
    totalTaxBookValue
    activeAssets
    disposedAssets
  }
}
```

#### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
```graphql
query GetCategories {
  fixedAssetCategories {
    id
    code
    name
    taxCategory
    maxTaxDepreciationRate
  }
}
```

#### –ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
```graphql
# –î–Ω–µ–≤–Ω–∏–∫ –Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
query GetDepreciationJournal($companyId: Int!, $year: Int!, $month: Int) {
  depreciationJournal(companyId: $companyId, year: $year, month: $month) {
    id
    fixedAssetId
    period
    accountingDepreciationAmount
    taxDepreciationAmount
    accountingBookValueAfter
    taxBookValueAfter
    isPosted
    journalEntryId
  }
}
```

### GraphQL Mutations

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏
```graphql
# –°—ä–∑–¥–∞–≤–∞–Ω–µ
mutation CreateFixedAsset($companyId: Int!, $input: CreateFixedAssetInput!) {
  createFixedAsset(companyId: $companyId, input: $input) {
    id
    inventoryNumber
    name
  }
}

# –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ
mutation UpdateFixedAsset($input: UpdateFixedAssetInput!) {
  updateFixedAsset(input: $input) {
    id
    name
    status
  }
}

# –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ
mutation DeleteFixedAsset($id: Int!) {
  deleteFixedAsset(id: $id)
}
```

#### –ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
```graphql
# –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
mutation CalculateDepreciation($input: CalculateDepreciationInput!) {
  calculateDepreciation(input: $input) {
    success
    calculatedCount
    errorCount
    totalAccountingAmount
    totalTaxAmount
    errors
  }
}

# –ü—Ä–∏–∫–ª—é—á–≤–∞–Ω–µ –≤ –¥–Ω–µ–≤–Ω–∏–∫–∞
mutation PostDepreciation($input: PostDepreciationInput!, $userId: Int!) {
  postDepreciation(input: $input, userId: $userId) {
    success
    journalEntryId
    totalAmount
    assetsCount
    message
  }
}
```

## Frontend Components

### 1. FixedAssets (–≥–ª–∞–≤–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
–û–±–µ–¥–∏–Ω—è–≤–∞ –≤—Å–∏—á–∫–∏ —Ç–∞–±–æ–≤–µ:
- –ê–∫—Ç–∏–≤–∏
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏  
- –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
- –î–Ω–µ–≤–Ω–∏–∫ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏

### 2. AssetsList
- –°–ø–∏—Å—ä–∫ —Å –≤—Å–∏—á–∫–∏ –∞–∫—Ç–∏–≤–∏
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Å—Ç–∞—Ç—É—Å –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- –°—ä–∑–¥–∞–≤–∞–Ω–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∞–∫—Ç–∏–≤–∏
- –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∞–∫—Ç–∏–≤–∏

### 3. DepreciationCalculation
- –ò–∑–±–æ—Ä –Ω–∞ –ø–µ—Ä–∏–æ–¥ –∑–∞ –∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ
- –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è
- –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ
- –ü—Ä–∏–∫–ª—é—á–≤–∞–Ω–µ –≤ –≥–ª–∞–≤–Ω–∏—è –¥–Ω–µ–≤–Ω–∏–∫

### 4. DepreciationJournal
- –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –≤—Å–∏—á–∫–∏ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏ –∑–∞–ø–∏—Å–∏
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –≥–æ–¥–∏–Ω–∞ –∏ –º–µ—Å–µ—Ü
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∏
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –∑–∞ —Å—Ç–∞—Ç—É—Å (–ø—Ä–∏–∫–ª—é—á–µ–Ω/–Ω–µ–ø—Ä–∏–∫–ª—é—á–µ–Ω)

## –°—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞

### –°—á–µ—Ç–æ–≤–æ–¥–Ω–∏ —Å–º–µ—Ç–∫–∏
- **241** - –ù–∞—Ç—Ä—É–ø–∞–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ –î–ú–ê (–∫—Ä–µ–¥–∏—Ç)
- **603** - –†–∞–∑—Ö–æ–¥–∏ –∑–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è (–¥–µ–±–∏—Ç)

### –ñ—É—Ä–Ω–∞–ª–µ–Ω –∑–∞–ø–∏—Å –∑–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è
```
Dt 603 –†–∞–∑—Ö–æ–¥–∏ –∑–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è     XXX –ª–≤.
    Ct 241 –ù–∞—Ç—Ä—É–ø–∞–Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è      XXX –ª–≤.
```

### –í—Ä–µ–º–µ–Ω–Ω–∏ —Ä–∞–∑–ª–∏–∫–∏
–†–∞–∑–ª–∏–∫–∞—Ç–∞ –º–µ–∂–¥—É —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∞—Ç–∞ –∏ –¥–∞–Ω—ä—á–Ω–∞—Ç–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è —Å—ä–∑–¥–∞–≤–∞:
- **–û—Ç—Å—Ä–æ—á–µ–Ω –¥–∞–Ω—ä—á–µ–Ω –∞–∫—Ç–∏–≤** (–∫–æ–≥–∞—Ç–æ –¥–∞–Ω—ä—á–Ω–∞—Ç–∞ > —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∞—Ç–∞)  
- **–û—Ç—Å—Ä–æ—á–µ–Ω–æ –¥–∞–Ω—ä—á–Ω–æ –∑–∞–¥—ä–ª–∂–µ–Ω–∏–µ** (–∫–æ–≥–∞—Ç–æ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∞—Ç–∞ > –¥–∞–Ω—ä—á–Ω–∞—Ç–∞)

## –ü—Ä–∏–º–µ—Ä–∏ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ

### 1. –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∞–∫—Ç–∏–≤ –∏ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è

```javascript
// 1. –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∞–∫—Ç–∏–≤
const asset = await graphqlRequest(`
  mutation CreateFixedAsset($companyId: Int!, $input: CreateFixedAssetInput!) {
    createFixedAsset(companyId: $companyId, input: $input) {
      id
      inventoryNumber
    }
  }
`, {
  companyId: 1,
  input: {
    inventoryNumber: "COMP-001",
    name: "–õ–∞–ø—Ç–æ–ø Dell",
    categoryId: 4, // Computers
    acquisitionCost: 2500.00,
    acquisitionDate: "2025-01-01",
    accountingUsefulLife: 3,
    accountingDepreciationRate: 33.33,
    taxDepreciationRate: 50.0
  }
});

// 2. –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –∑–∞ —è–Ω—É–∞—Ä–∏
const calculation = await graphqlRequest(`
  mutation CalculateDepreciation($input: CalculateDepreciationInput!) {
    calculateDepreciation(input: $input) {
      success
      calculatedCount
      totalAccountingAmount
      totalTaxAmount
    }
  }
`, {
  input: {
    companyId: 1,
    year: 2025,
    month: 1
  }
});

// 3. –ü—Ä–∏–∫–ª—é—á–≤–∞–Ω–µ –≤ –¥–Ω–µ–≤–Ω–∏–∫–∞
const posting = await graphqlRequest(`
  mutation PostDepreciation($input: PostDepreciationInput!, $userId: Int!) {
    postDepreciation(input: $input, userId: $userId) {
      success
      journalEntryId
      totalAmount
    }
  }
`, {
  input: {
    companyId: 1,
    year: 2025,
    month: 1,
    reference: "–ê–ú-2025-01"
  },
  userId: 1
});
```

### 2. –ê–Ω–∞–ª–∏–∑ –Ω–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏ —Ä–∞–∑–ª–∏–∫–∏

```javascript
// –í–∑–µ–º–∞–Ω–µ –Ω–∞ –∂—É—Ä–Ω–∞–ª–∞ —Å –∞–Ω–∞–ª–∏–∑
const journal = await graphqlRequest(`
  query GetDepreciationAnalysis($companyId: Int!, $year: Int!) {
    depreciationJournal(companyId: $companyId, year: $year) {
      id
      period
      accountingDepreciationAmount  
      taxDepreciationAmount
      fixedAssetId
    }
    
    fixedAssets(companyId: $companyId) {
      id
      name
      inventoryNumber
    }
  }
`, { companyId: 1, year: 2025 });

// –ê–Ω–∞–ª–∏–∑ –Ω–∞ —Ä–∞–∑–ª–∏–∫–∏—Ç–µ
journal.depreciationJournal.forEach(entry => {
  const asset = journal.fixedAssets.find(a => a.id === entry.fixedAssetId);
  const difference = parseFloat(entry.taxDepreciationAmount) - 
                    parseFloat(entry.accountingDepreciationAmount);
                    
  console.log(`${asset.name}: —Ä–∞–∑–ª–∏–∫–∞ ${difference.toFixed(2)} –ª–≤.`);
});
```

### 3. –ú–µ—Å–µ—á–µ–Ω –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–µ–Ω –ø—Ä–æ—Ü–µ—Å

```javascript
async function monthlyDepreciationProcess(companyId, year, month) {
  try {
    // 1. –ò–∑—á–∏—Å–ª–∏ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏—Ç–µ
    const calculation = await calculateDepreciation(companyId, year, month);
    
    if (!calculation.success) {
      console.error('–ì—Ä–µ—à–∫–∏ –ø—Ä–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ:', calculation.errors);
      return;
    }
    
    console.log(`–ò–∑—á–∏—Å–ª–µ–Ω–∏ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞ ${calculation.calculatedCount} –∞–∫—Ç–∏–≤–∞`);
    console.log(`–û–±—â–∞ —Å—É–º–∞: ${calculation.totalAccountingAmount} –ª–≤.`);
    
    // 2. –ü—Ä–∏–∫–ª—é—á–∏ –≤ –¥–Ω–µ–≤–Ω–∏–∫–∞
    const posting = await postDepreciation(companyId, year, month, userId);
    
    if (posting.success) {
      console.log(`–°—ä–∑–¥–∞–¥–µ–Ω –∂—É—Ä–Ω–∞–ª–µ–Ω –∑–∞–ø–∏—Å #${posting.journalEntryId}`);
    }
    
  } catch (error) {
    console.error('–ì—Ä–µ—à–∫–∞ –≤ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏—è –ø—Ä–æ—Ü–µ—Å:', error);
  }
}

// –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ
await monthlyDepreciationProcess(1, 2025, 2);
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–µ—Ç–∞–π–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏

**fixed_assets —Ç–∞–±–ª–∏—Ü–∞:**
```sql
CREATE TABLE fixed_assets (
    id SERIAL PRIMARY KEY,
    inventory_number VARCHAR NOT NULL UNIQUE,
    name VARCHAR NOT NULL,
    category_id INTEGER REFERENCES fixed_asset_categories(id),
    company_id INTEGER REFERENCES companies(id),
    acquisition_cost DECIMAL(15,2) NOT NULL,
    acquisition_date DATE NOT NULL,
    put_into_service_date DATE,
    accounting_useful_life INTEGER NOT NULL,
    accounting_depreciation_rate DECIMAL(5,2) NOT NULL,
    accounting_depreciation_method VARCHAR DEFAULT 'straight_line',
    accounting_salvage_value DECIMAL(15,2) DEFAULT 0,
    accounting_book_value DECIMAL(15,2) NOT NULL,
    accounting_accumulated_depreciation DECIMAL(15,2) DEFAULT 0,
    tax_useful_life INTEGER,
    tax_depreciation_rate DECIMAL(5,2) NOT NULL,
    tax_book_value DECIMAL(15,2) NOT NULL,
    tax_accumulated_depreciation DECIMAL(15,2) DEFAULT 0,
    status VARCHAR DEFAULT 'active',
    -- metadata fields
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

### –í–∞–ª–∏–¥–∞—Ü–∏–∏

- –ò–Ω–≤–µ–Ω—Ç–∞—Ä–Ω–∏—è—Ç –Ω–æ–º–µ—Ä —Ç—Ä—è–±–≤–∞ –¥–∞ –µ —É–Ω–∏–∫–∞–ª–µ–Ω
- –ü—Ä–∏–¥–æ–±–∏–≤–Ω–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç > 0
- –ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—Ç–∞ –Ω–æ—Ä–º–∞ –º–µ–∂–¥—É 0-100%
- –ê–Ω–∞–ª–∏—Ç–∏—á–Ω–∏—Ç–µ –∞–∫—Ç–∏–≤–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞—Ç —Ä–æ–¥–∏—Ç–µ–ª
- –ù–µ –º–æ–∂–µ –¥–∞ —Å–µ –∏–∑—Ç—Ä–∏—è—Ç –∞–∫—Ç–∏–≤–∏ —Å –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è

### Performance —Å—ä–æ–±—Ä–∞–∂–µ–Ω–∏—è

- –ò–Ω–¥–µ–∫—Å–∏ –Ω–∞ company_id, status, category_id
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∑–∞ —Å–ø–∏—Å—ä—Ü–∏—Ç–µ —Å –∞–∫—Ç–∏–≤–∏
- –ö–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–æ–Ω–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–æ–¥—É–ª—ä—Ç –∑–∞ –¥—ä–ª–≥–æ—Ç—Ä–∞–π–Ω–∏ –∞–∫—Ç–∏–≤–∏ –∏ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –ø—ä–ª–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –î–ú–ê –≤ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –±—ä–ª–≥–∞—Ä—Å–∫–æ—Ç–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—Å—Ç–≤–æ. –í–∫–ª—é—á–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è, –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥–ª–∞–≤–Ω–∏—è –¥–Ω–µ–≤–Ω–∏–∫.