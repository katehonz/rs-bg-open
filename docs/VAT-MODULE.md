# –î–î–° –ú–æ–¥—É–ª - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä

–î–î–° –º–æ–¥—É–ª—ä—Ç –Ω–∞ rs-ac-bg –µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–∞–Ω –¥–∞ –æ—Ç–≥–æ–≤–∞—Ä—è –Ω–∞ Bulgarian NAP (–ù–∞—Ü–∏–æ–Ω–∞–ª–Ω–∞ –∞–≥–µ–Ω—Ü–∏—è –∑–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ) —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è—Ç–∞ –∑–∞ –î–î–° –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ –∏ –¥–Ω–µ–≤–Ω–∏—Ü–∏ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∏ –∏ –ø–æ–∫—É–ø–∫–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏

–ú–æ–¥—É–ª—ä—Ç –∏–∑–ø–æ–ª–∑–≤–∞ —Ç–∞–±–ª–∏—Ü–∞ `vat_returns` —Å –ø—ä–ª–Ω–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ –≤—Å–∏—á–∫–∏ NAP DEKLAR.TXT –ø–æ–ª–µ—Ç–∞ —Å–ø–æ—Ä–µ–¥ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è—Ç–∞ PPDDS_2025.

#### –û—Å–Ω–æ–≤–Ω–∏ –ø–æ–ª–µ—Ç–∞

**–ü–µ—Ä–∏–æ–¥ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω–∏:**
- `period_year`, `period_month` - –û—Ç—á–µ—Ç–µ–Ω –ø–µ—Ä–∏–æ–¥
- `period_from`, `period_to` - –ù–∞—á–∞–ª–Ω–∞ –∏ –∫—Ä–∞–π–Ω–∞ –¥–∞—Ç–∞ –Ω–∞ –ø–µ—Ä–∏–æ–¥–∞
- `status` - –°—Ç–∞—Ç—É—Å (DRAFT, SUBMITTED, APPROVED)
- `due_date` - –ö—Ä–∞–µ–Ω —Å—Ä–æ–∫ –∑–∞ –ø–æ–¥–∞–≤–∞–Ω–µ (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ 14-—Ç–∏ –Ω–∞ —Å–ª–µ–¥–≤–∞—â–∏—è –º–µ—Å–µ—Ü)

**NAP DEKLAR.TXT - –ü—Ä–æ–¥–∞–∂–±–∏ (–ö–æ–ª–æ–Ω–∏ –ø—Ä–æ11-–ø—Ä–æ25):**

| –ü–æ–ª–µ –≤ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ | NAP –∫–æ–ª–æ–Ω–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------------|-----------|----------|
| `sales_base_20` | –ø—Ä–æ11 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ 20% |
| `sales_vat_20` | 01-21 | –î–î–° 20% |
| `sales_base_vop` | –ø—Ä–æ12 | –í–û–ü –¥–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ |
| `sales_vat_vop` | 01-22 | –í–û–ü –î–î–° |
| `sales_vat_personal_use` | 01-23 | –î–î–° –∑–∞ –ª–∏—á–Ω–æ –ø–æ–ª–∑–≤–∞–Ω–µ |
| `sales_base_9` | –ø—Ä–æ17 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ 9% |
| `sales_vat_9` | 01-24 | –î–î–° 9% |
| `sales_base_0_art3` | –ø—Ä–æ14 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ 0% —á–ª.3 |
| `sales_base_0_vod` | –ø—Ä–æ20 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ 0% –í–û–î |
| `sales_base_0_export` | –ø—Ä–æ19, –ø—Ä–æ21 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ 0% —á–ª.140/146/173 |
| `sales_base_art21` | –ø—Ä–æ22 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ —É—Å–ª—É–≥–∏ —á–ª.21 |
| `sales_base_art69` | –ø—Ä–æ23 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ —á–ª.69 |
| `sales_base_exempt` | –ø—Ä–æ24 | –û—Å–≤–æ–±–æ–¥–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ |
| `total_sales_taxable` | 01-01 | –û–±—â–∞ –¥–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ–¥–∞–∂–±–∏ |
| `total_sales_vat` | 01-20 | –û–±—â–æ –Ω–∞—á–∏—Å–ª–µ–Ω –î–î–° |

**NAP DEKLAR.TXT - –ü–æ–∫—É–ø–∫–∏ (–ö–æ–ª–æ–Ω–∏ –ø–æ–∫09-–ø–æ–∫15):**

| –ü–æ–ª–µ –≤ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ | NAP –∫–æ–ª–æ–Ω–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------------|-----------|----------|
| `purchase_base_no_credit` | –ø–æ–∫30 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ –±–µ–∑ –∫—Ä–µ–¥–∏—Ç (–ø–æ–∫09 –±–µ–∑ –ø—Ä–∞–≤–æ) |
| `purchase_base_full_credit` | –ø–æ–∫09, –ø–æ–∫10 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ –ø—ä–ª–µ–Ω –∫—Ä–µ–¥–∏—Ç |
| `purchase_vat_full_credit` | 01-41 | –î–î–° –ø—ä–ª–µ–Ω –∫—Ä–µ–¥–∏—Ç |
| `purchase_base_partial_credit` | –ø–æ–∫12 | –î–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ —á–∞—Å—Ç–∏—á–µ–Ω –∫—Ä–µ–¥–∏—Ç |
| `purchase_vat_partial_credit` | 01-42 | –î–î–° —á–∞—Å—Ç–∏—á–µ–Ω –∫—Ä–µ–¥–∏—Ç |
| `purchase_vat_annual_adjustment` | –ø–æ–∫14 | –ì–æ–¥–∏—à–Ω–æ –∫–æ—Ä–∏–≥–∏—Ä–∞–Ω–µ |
| `credit_coefficient` | 01-33 | –ö–æ–µ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞ —á–∞—Å—Ç–∏—á–µ–Ω –∫—Ä–µ–¥–∏—Ç |
| `total_deductible_vat` | 01-40 | –û–±—â –¥–∞–Ω—ä—á–µ–Ω –∫—Ä–µ–¥–∏—Ç |

**–ë—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∏:**
- `sales_document_count` - –ü–æ–ª–µ 00-05: –ë—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∏ –ø—Ä–æ–¥–∞–∂–±–∏
- `purchase_document_count` - –ü–æ–ª–µ 00-06: –ë—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∏ –ø–æ–∫—É–ø–∫–∏
- `submitted_by_person` - –ü–æ–ª–µ 00-04: –ü–æ–¥–∞–≤–∞—â–æ –ª–∏—Ü–µ (–ï–ì–ù/–ò–º–µ)

### Rust Backend

**Entities:**
- `backend/src/entities/vat_return.rs` - Entity –º–æ–¥–µ–ª —Å –≤—Å–∏—á–∫–∏ NAP –ø–æ–ª–µ—Ç–∞

**GraphQL Resolvers:**
- `backend/src/graphql/vat_resolvers.rs` - GraphQL API –∑–∞ —Ä–∞–±–æ—Ç–∞ —Å –î–î–° –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏

**–ú–∏–≥—Ä–∞—Ü–∏–∏:**
- `migration/src/m20240101_000010_create_vat_returns.rs` - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞
- `migration/src/m20250101_000001_add_nap_fields_to_vat_returns.rs` - –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ NAP –ø–æ–ª–µ—Ç–∞

### Frontend

**–°—Ç—Ä–∞–Ω–∏—Ü–∏:**
- `frontend/src/pages/VATEntry.jsx` - –í—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏–∏
- `frontend/src/pages/VAT.jsx` - –ü—Ä–µ–≥–ª–µ–¥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –î–î–° –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏
- `frontend/src/pages/Reports.jsx` - –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –æ—Ç—á–µ—Ç–∏ –∏ NAP —Ñ–∞–π–ª–æ–≤–µ

## –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –∫–æ–¥–æ–≤–µ

### –ö–æ–¥–æ–≤–µ –∑–∞ –≤–∏–¥ –¥–æ–∫—É–º–µ–Ω—Ç (PPZDDS)

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| 01 | –§–∞–∫—Ç—É—Ä–∞ |
| 02 | –î–µ–±–∏—Ç–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ |
| 03 | –ö—Ä–µ–¥–∏—Ç–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ |
| 07 | –ú–∏—Ç–Ω–∏—á–µ—Å–∫–∞ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è |
| 09 | –ü—Ä–æ—Ç–æ–∫–æ–ª –∏–ª–∏ –¥—Ä—É–≥ –¥–æ–∫—É–º–µ–Ω—Ç |
| 11 | –§–∞–∫—Ç—É—Ä–∞ - –∫–∞—Å–æ–≤–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç |
| 81 | –û—Ç—á–µ—Ç –∑–∞ –∏–∑–≤—ä—Ä—à–µ–Ω–∏—Ç–µ –ø—Ä–æ–¥–∞–∂–±–∏ |
| 91-95 | –ü—Ä–æ—Ç–æ–∫–æ–ª–∏ –∑–∞ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ —Ä–µ–∂–∏–º–∏ |

### –ö–æ–¥–æ–≤–µ –∑–∞ –ø–æ–∫—É–ø–∫–∏ (–î–Ω–µ–≤–Ω–∏–∫ –ø–æ–∫—É–ø–∫–∏)

| –ö–æ–¥ | –ö–æ–ª–æ–Ω–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–∞–Ω—ä—á–µ–Ω –∫—Ä–µ–¥–∏—Ç |
|-----|--------|----------|----------------|
| –ø–æ–∫09 | 09 | –î–æ—Å—Ç–∞–≤–∫–∏, –í–û–ü, –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —á–ª.82, –∞–ª.2-4 –∏ –≤–Ω–æ—Å | –ë–ï–ó –ø—Ä–∞–≤–æ –Ω–∞ –î–ö |
| –ø–æ–∫10 | 10 | –û–±–ª–∞–≥–∞–µ–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏, –í–û–ü, –≤–Ω–æ—Å, –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —á–ª.69, –∞–ª.2 | –ü–™–õ–ï–ù –î–ö |
| –ø–æ–∫12 | 12 | –û–±–ª–∞–≥–∞–µ–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏, –í–û–ü, –≤–Ω–æ—Å, –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —á–ª.69, –∞–ª.2 | –ß–ê–°–¢–ò–ß–ï–ù –î–ö |
| –ø–æ–∫14 | 14 | –ì–æ–¥–∏—à–Ω–∞ –∫–æ—Ä–µ–∫—Ü–∏—è –ø–æ —á–ª.73, –∞–ª.8 –ó–î–î–° (+/-) | –ö–æ—Ä–µ–∫—Ü–∏—è |
| –ø–æ–∫15 | 15 | –ü—Ä–∏–¥–æ–±–∏–≤–∞–Ω–µ –Ω–∞ —Å—Ç–æ–∫–∏ –æ—Ç –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –≤ —Ç—Ä–∏—Å—Ç—Ä–∞–Ω–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è | –°–ø–µ—Ü–∏–∞–ª–µ–Ω |

### –ö–æ–¥–æ–≤–µ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∏ (–î–Ω–µ–≤–Ω–∏–∫ –ø—Ä–æ–¥–∞–∂–±–∏)

| –ö–æ–¥ | –ö–æ–ª–æ–Ω–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–î–° —Å—Ç–∞–≤–∫–∞ |
|-----|--------|----------|------------|
| –ø—Ä–æ11 | 11 | –û–±–ª–∞–≥–∞–µ–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ | 20% |
| –ø—Ä–æ12 | 12 | –ù–∞—á–∏—Å–ª–µ–Ω –¥–∞–Ω—ä–∫ (20%) –ø—Ä–µ–¥–≤–∏–¥–µ–Ω –≤ –∑–∞–∫–æ–Ω–∞ –≤ –¥—Ä—É–≥–∏ —Å–ª—É—á–∞–∏ | 20% |
| –ø—Ä–æ13 | 13 | –í–û–ü (–í—ä—Ç—Ä–µ–æ–±—â–Ω–æ—Å—Ç–Ω–æ –ø—Ä–∏–¥–æ–±–∏–≤–∞–Ω–µ) | 20% |
| –ø—Ä–æ14 | 14 | –ü–æ–ª—É—á–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —á–ª.82, –∞–ª.2-4 –ó–î–î–° | - |
| –ø—Ä–æ16 | 16 | –ù–∞—á–∏—Å–ª–µ–Ω –¥–∞–Ω—ä–∫ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞ –ª–∏—á–Ω–∏ –Ω—É–∂–¥–∏ | –†–∞–∑–ª–∏—á–Ω–∞ |
| –ø—Ä–æ17 | 17 | –û–±–ª–∞–≥–∞–µ–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ | 9% |
| –ø—Ä–æ19 | 19 | –î–æ—Å—Ç–∞–≤–∫–∏ —Å—ä—Å —Å—Ç–∞–≤–∫–∞ 0% –ø–æ –≥–ª–∞–≤–∞ 3-—Ç–∞ –æ—Ç –ó–î–î–° | 0% |
| –ø—Ä–æ20 | 20 | –í–û–î (–í—ä—Ç—Ä–µ–æ–±—â–Ω–æ—Å—Ç–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞) - –∫3 VIES | 0% |
| –ø—Ä–æ21 | 21 | –î–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —á–ª.140, 146, 173 –ó–î–î–° | 0% |
| –ø—Ä–æ22 | 22 | –î–æ—Å—Ç–∞–≤–∫–∏ –Ω–∞ —É—Å–ª—É–≥–∏ –ø–æ —á–ª.21, –∞–ª.2 (–∫—ä–º –¥—Ä—É–≥–∞ –¥—ä—Ä–∂–∞–≤–∞ —á–ª–µ–Ω–∫–∞) - –∫5 VIES | 0% |
| –ø—Ä–æ23-1 | 23-1 | –î–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —á–ª.69, –∞–ª.2 –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–∏ –ø—Ä–æ–¥–∞–∂–±–∏ | –†–∞–∑–ª–∏—á–Ω–∞ |
| –ø—Ä–æ23-2 | 23-2 | –î–æ—Å—Ç–∞–≤–∫–∏ (–¥–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ –∏ –î–î–°) –ø—Ä–∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–∏ –ø—Ä–æ–¥–∞–∂–±–∏ | –†–∞–∑–ª–∏—á–Ω–∞ |
| –ø—Ä–æ24-1 | 24-1 | –û—Å–≤–æ–±–æ–¥–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ —Å—Ç—Ä–∞–Ω–∞—Ç–∞ –∏ –æ—Å–≤–æ–±–æ–¥–µ–Ω–∏ –í–û–ü | 0% |
| –ø—Ä–æ24-2 | 24-2 | –û—Å–≤–æ–±–æ–¥–µ–Ω–∏ –í–û–î - –∫3 VIES | 0% |
| –ø—Ä–æ24-3 | 24-3 | –û—Å–≤–æ–±–æ–¥–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–∞ —É—Å–ª—É–≥–∏ –ø–æ —á–ª.21, –∞–ª.2 - –∫5 VIES | 0% |
| –ø—Ä–æ25 | 25 | –î–æ—Å—Ç–∞–≤–∫–∏ –∫–∞—Ç–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –≤ —Ç—Ä–∏—Å—Ç—Ä–∞–Ω–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ - –∫4 VIES | –°–ø–µ—Ü–∏–∞–ª–µ–Ω |

### –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ (VIES –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è)

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| 0 | –ù–µ —É—á–∞—Å—Ç–≤–∞ –≤—ä–≤ VIES –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è |
| 1 | –í—ä—Ç—Ä–µ–æ–±—â–Ω–æ—Å—Ç–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ (–∫3) |
| 2 | –ü–æ—Å—Ä–µ–¥–Ω–∏–∫ –≤ —Ç—Ä–∏—Å—Ç—Ä–∞–Ω–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è (–∫4) |
| 3 | –î–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —á–ª.21, –∞–ª.2 –æ—Ç –ó–î–î–° (–∫5) |
| 4 | –ò–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ —Å—Ç–æ–∫–∏ –ø–æ–¥ —Ä–µ–∂–∏–º —Å–∫–ª–∞–¥–∏—Ä–∞–Ω–µ |
| 5 | –í—Ä—ä—â–∞–Ω–µ –Ω–∞ —Å—Ç–æ–∫–∏ –ø–æ–¥ —Ä–µ–∂–∏–º —Å–∫–ª–∞–¥–∏—Ä–∞–Ω–µ |
| 6 | –ó–∞–º—è–Ω–∞ –Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª –ø–æ —á–ª.15–∞, –∞–ª.2, —Ç.3 –æ—Ç –ó–î–î–° |
| 7 | –•–ª—è–± (9% –î–î–°) |
| 8 | –ë—Ä–∞—à–Ω–æ (9% –î–î–°) |

## –†–∞–±–æ—Ç–µ–Ω –ø—Ä–æ—Ü–µ—Å

### 1. –í—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è

#### üÜï –ú–µ—Ç–æ–¥ 1: AI –°–∫–µ–Ω–µ—Ä –Ω–∞ –§–∞–∫—Ç—É—Ä–∏ (–ü–†–ï–ü–û–†–™–ß–ò–¢–ï–õ–ù–û!)

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** `http://localhost:5173/imports`

**–†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–µ–Ω –Ω–∞—á–∏–Ω –∑–∞ –≤—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏–∏:**

1. **Upload —Ñ–∞–∫—Ç—É—Ä–∞** - –ö–∞—á–µ—Ç–µ —Å–Ω–∏–º–∫–∞ –∏–ª–∏ PDF –Ω–∞ —Ñ–∞–∫—Ç—É—Ä–∞—Ç–∞
2. **AI –æ–±—Ä–∞–±–æ—Ç–∫–∞** - Mistral AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑–≤–ª–∏—á–∞ –≤—Å–∏—á–∫–∏ –¥–∞–Ω–Ω–∏:
   - –ù–æ–º–µ—Ä –∏ –¥–∞—Ç–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
   - –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç (–∏–º–µ, –ï–ò–ö, –î–î–° –Ω–æ–º–µ—Ä)
   - –°—É–º–∏ (–æ—Å–Ω–æ–≤–∞, –î–î–°, –æ–±—â–∞ —Å—É–º–∞)
   - –í–∞–ª—É—Ç–∞ –∏ –∞—Ä—Ç–∏–∫—É–ª–∏
3. **VIES –≤–∞–ª–∏–¥–∞—Ü–∏—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –î–î–° –Ω–æ–º–µ—Ä–∞
4. **–°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞–ø–∏—Å** - –ë—É—Ç–æ–Ω "–°—ä–∑–¥–∞–π –î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è" üíº:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –∫–æ–¥–æ–≤–µ
   - –ì–µ–Ω–µ—Ä–∏—Ä–∞ –ø—Ä–∞–≤–∏–ª–Ω–∏ accounting lines
   - –°—ä–∑–¥–∞–≤–∞ journal entry —Å –î–î–° –¥–∞–Ω–Ω–∏
5. **–ì–æ—Ç–æ–≤–æ!** - –î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è—Ç–∞ –µ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –∑–∞ —Å–µ–∫—É–Ω–¥–∏

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚ö° **10x –ø–æ-–±—ä—Ä–∑–æ** –æ—Ç —Ä—ä—á–Ω–æ –≤—ä–≤–µ–∂–¥–∞–Ω–µ
- üéØ **–ü–æ-–º–∞–ª–∫–æ –≥—Ä–µ—à–∫–∏** - AI –∏–∑–≤–ª–∏—á–∞ –¥–∞–Ω–Ω–∏—Ç–µ —Ç–æ—á–Ω–æ
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è** - VIES –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞
- üíº **–ì–æ—Ç–æ–≤–∏ –∑–∞–ø–∏—Å–∏** - –î–∏—Ä–µ–∫—Ç–Ω–æ –≤ –î–î–° –¥–Ω–µ–≤–Ω–∏–∫–∞

üìñ **–î–µ—Ç–∞–π–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [AI_INVOICE_SCANNER.md](AI_INVOICE_SCANNER.md)

---

#### –ú–µ—Ç–æ–¥ 2: –†—ä—á–Ω–æ –≤—ä–≤–µ–∂–¥–∞–Ω–µ

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** `http://localhost:5173/accounting/vat-entry`

**–°—Ç—ä–ø–∫–∏:**
1. –ò–∑–±–æ—Ä –Ω–∞ –≤–∏–¥ –¥–æ–∫—É–º–µ–Ω—Ç (01-–§–∞–∫—Ç—É—Ä–∞, 02-–î–µ–±–∏—Ç–Ω–æ –∏–∑–≤–µ—Å—Ç–∏–µ –∏ —Ç.–Ω.)
2. –í—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –Ω–æ–º–µ—Ä –∏ –¥–∞—Ç–∏:
   - –î–∞—Ç–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
   - –°—á–µ—Ç–æ–≤–æ–¥–Ω–∞ –¥–∞—Ç–∞
   - **–î–î–° –¥–∞—Ç–∞** (–æ–ø—Ä–µ–¥–µ–ª—è –æ—Ç—á–µ—Ç–Ω–∏—è –ø–µ—Ä–∏–æ–¥!)
3. –ò–∑–±–æ—Ä –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç
4. –ü–æ—Å–æ—á–≤–∞–Ω–µ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è (–ü—Ä–æ–¥–∞–∂–±–∞/–ü–æ–∫—É–ø–∫–∞)
5. –í—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –¥–∞–Ω—ä—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ –∏ –î–î–° —Å—Ç–∞–≤–∫–∞
6. –ò–∑–±–æ—Ä –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–µ–Ω –∫–æ–¥ —Å–ø–æ—Ä–µ–¥ —Ç–∞–±–ª–∏—Ü–∏—Ç–µ –ø–æ-–≥–æ—Ä–µ
7. –†—ä—á–Ω–æ –ø–æ–ø—ä–ª–≤–∞–Ω–µ –Ω–∞ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –∑–∞–ø–∏—Å–∏ –∏–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:**
- –ü—Ä–∏ –ø—Ä–æ11 (20%) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞ –î–î–° —Å—Ç–∞–≤–∫–∞ 20%
- –ü—Ä–∏ –ø—Ä–æ17 (9%) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞ –î–î–° —Å—Ç–∞–≤–∫–∞ 9%
- –ü—Ä–∏ –ø—Ä–æ19/–ø—Ä–æ20/–ø—Ä–æ21 (0%) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞ –î–î–° —Å—Ç–∞–≤–∫–∞ 0%
- –ü—Ä–∏ –ø–æ–∫10 ‚Üí –ø–æ–∫–∞–∑–≤–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ü—ä–ª–µ–Ω –¥–∞–Ω—ä—á–µ–Ω –∫—Ä–µ–¥–∏—Ç"
- –ü—Ä–∏ –ø–æ–∫12 ‚Üí –ø–æ–∫–∞–∑–≤–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ß–∞—Å—Ç–∏—á–µ–Ω –¥–∞–Ω—ä—á–µ–Ω –∫—Ä–µ–¥–∏—Ç"

### 2. –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –î–î–° –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è

**–ü—Ä–æ—Ü–µ—Å:**
1. –°–∏—Å—Ç–µ–º–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä–∞ –≤—Å–∏—á–∫–∏ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞ –¥–∞–¥–µ–Ω –ø–µ—Ä–∏–æ–¥ —Å–ø–æ—Ä–µ–¥ **–î–î–° –¥–∞—Ç–∞—Ç–∞**
2. –ò–∑—á–∏—Å–ª—è–≤–∞ —Å–µ:
   - –û–±—â–æ –Ω–∞—á–∏—Å–ª–µ–Ω –î–î–° –æ—Ç –ø—Ä–æ–¥–∞–∂–±–∏ (–ø–æ–ª–µ 01-20)
   - –û–±—â –¥–∞–Ω—ä—á–µ–Ω –∫—Ä–µ–¥–∏—Ç (–ø–æ–ª–µ 01-40)
   - –†–µ–∑—É–ª—Ç–∞—Ç: –î–î–° –∑–∞ –ø–ª–∞—â–∞–Ω–µ –∏–ª–∏ –∑–∞ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ (–ø–æ–ª–µ 01-50 –∏–ª–∏ 01-60)
3. –ü–æ–ø—ä–ª–≤–∞—Ç —Å–µ –≤—Å–∏—á–∫–∏ NAP –ø–æ–ª–µ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–ø–æ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∏—Ç–µ –∫–æ–¥–æ–≤–µ

### 3. –ï–∫—Å–ø–æ—Ä—Ç –Ω–∞ NAP —Ñ–∞–π–ª–æ–≤–µ

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞ 3 —Ñ–∞–π–ª–∞ —Å–ø–æ—Ä–µ–¥ PPDDS_2025 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è—Ç–∞:

**DEKLAR.TXT** (1 –∑–∞–ø–∏—Å):
- –ü–æ–ª–µ 00-01: –î–î–° –Ω–æ–º–µ—Ä (15 chars)
- –ü–æ–ª–µ 00-02: –ò–º–µ –Ω–∞ —Ñ–∏—Ä–º–∞ (50 chars)
- –ü–æ–ª–µ 00-03: –ü–µ—Ä–∏–æ–¥ YYYYMM (6 chars)
- –ü–æ–ª–µ 00-04: –ü–æ–¥–∞–≤–∞—â–æ –ª–∏—Ü–µ (50 chars)
- –ü–æ–ª–µ 00-05: –ë—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∏ –ø—Ä–æ–¥–∞–∂–±–∏ (15 chars)
- –ü–æ–ª–µ 00-06: –ë—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∏ –ø–æ–∫—É–ø–∫–∏ (15 chars)
- –ü–æ–ª–µ—Ç–∞ 01-11 –¥–æ 01-60: –í—Å–∏—á–∫–∏ NAP –ø–æ–ª–µ—Ç–∞

**PRODAGBI.TXT** (N –∑–∞–ø–∏—Å–∞):
- –í—Å–∏—á–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –æ—Ç –¥–Ω–µ–≤–Ω–∏–∫–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂–±–∏—Ç–µ –∑–∞ –ø–µ—Ä–∏–æ–¥–∞
- Fixed-width —Ñ–æ—Ä–º–∞—Ç, Windows-1251 –∫–æ–¥–∏—Ä–æ–≤–∫–∞

**POKUPKI.TXT** (N –∑–∞–ø–∏—Å–∞):
- –í—Å–∏—á–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –æ—Ç –¥–Ω–µ–≤–Ω–∏–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫–∏—Ç–µ –∑–∞ –ø–µ—Ä–∏–æ–¥–∞
- Fixed-width —Ñ–æ—Ä–º–∞—Ç, Windows-1251 –∫–æ–¥–∏—Ä–æ–≤–∫–∞

## –í–∞–∂–Ω–∏ –±–µ–ª–µ–∂–∫–∏

### –î–î–° –¥–∞—Ç–∞ (vat_date)

**–î–î–° –¥–∞—Ç–∞—Ç–∞ –µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–Ω–∞!** –¢—è –æ–ø—Ä–µ–¥–µ–ª—è –≤ –∫–æ–π –æ—Ç—á–µ—Ç–µ–Ω –ø–µ—Ä–∏–æ–¥ –ø–æ–ø–∞–¥–∞ –æ–ø–µ—Ä–∞—Ü–∏—è—Ç–∞.

- –î–∞—Ç–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç ‚â† –°—á–µ—Ç–æ–≤–æ–¥–Ω–∞ –¥–∞—Ç–∞ ‚â† –î–î–° –¥–∞—Ç–∞
- –ó–∞ –ø–æ-—Å—Ç–∞—Ä–∏—Ç–µ –±—ä–ª–≥–∞—Ä—Å–∫–∏ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏ —Å–∏—Å—Ç–µ–º–∏ –î–î–° –¥–∞—Ç–∞—Ç–∞ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å—ä–≤–ø–∞–¥–∞ —Å –¥–∞—Ç–∞—Ç–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –ó–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–ª–∏–∑–æ –¥–æ –∫—Ä–∞—è –Ω–∞ –º–µ—Å–µ—Ü–∞ –≤–Ω–∏–º–∞–≤–∞–π—Ç–µ –∫–æ–≥–∞ –ø–æ–ø–∞–¥–∞ –î–î–° –¥–∞—Ç–∞—Ç–∞
- –°–∏—Å—Ç–µ–º–∞—Ç–∞ –≤–∞–ª–∏–¥–∏—Ä–∞ –î–î–° –¥–∞—Ç–∞—Ç–∞ –¥–∞ –µ –≤ —Ä–∞–∑—É–º–Ω–∏ –≥—Ä–∞–Ω–∏—Ü–∏ (–Ω–µ –ø–æ–≤–µ—á–µ –æ—Ç 1 –≥–æ–¥–∏–Ω–∞ –Ω–∞–ø—Ä–µ–¥ –∏–ª–∏ 5 –≥–æ–¥–∏–Ω–∏ –Ω–∞–∑–∞–¥)

### –î–∞–Ω—ä—á–µ–Ω –∫—Ä–µ–¥–∏—Ç

**–ø–æ–∫09 (–±–µ–∑ –ø—Ä–∞–≤–æ –Ω–∞ –î–ö):**
- –ü–æ–∫—É–ø–∫–∏ –æ—Ç –Ω–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω–∏ –ª–∏—Ü–∞
- –û—Å–≤–æ–±–æ–¥–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
- –í–Ω–æ—Å –±–µ–∑ –¥–∞–Ω—ä—á–µ–Ω –∫—Ä–µ–¥–∏—Ç

**–ø–æ–∫10 (–ø—ä–ª–µ–Ω –î–ö):**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ –ø–æ–∫—É–ø–∫–∏ –∑–∞ –æ–±–ª–∞–≥–∞–µ–º–∏ –¥–µ–π–Ω–æ—Å—Ç–∏
- 100% –æ—Ç –î–î–° —Å–µ –ø—Ä–∏—Å–ø–∞–¥–∞

**–ø–æ–∫12 (—á–∞—Å—Ç–∏—á–µ–Ω –î–ö):**
- –ö–æ–≥–∞—Ç–æ —Ñ–∏—Ä–º–∞—Ç–∞ –∏–º–∞ –∫–∞–∫—Ç–æ –æ–±–ª–∞–≥–∞–µ–º–∏, —Ç–∞–∫–∞ –∏ –æ—Å–≤–æ–±–æ–¥–µ–Ω–∏ –¥–µ–π–Ω–æ—Å—Ç–∏
- –ò–∑–∏—Å–∫–≤–∞ —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –∫–æ–µ—Ñ–∏—Ü–∏–µ–Ω—Ç (–ø–æ–ª–µ 01-33)
- –î–î–° –∑–∞ –ø—Ä–∏—Å–ø–∞–¥–∞–Ω–µ = –î–î–° √ó –∫–æ–µ—Ñ–∏—Ü–∏–µ–Ω—Ç

**–ø–æ–∫14 (–≥–æ–¥–∏—à–Ω–∞ –∫–æ—Ä–µ–∫—Ü–∏—è):**
- –ì–æ–¥–∏—à–Ω–∞ –∫–æ—Ä–µ–∫—Ü–∏—è –Ω–∞ –¥–∞–Ω—ä—á–Ω–∏—è –∫—Ä–µ–¥–∏—Ç —Å–ø–æ—Ä–µ–¥ —á–ª.73, –∞–ª.8 –æ—Ç –ó–î–î–°
- –ú–æ–∂–µ –¥–∞ –µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–∞ –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∞

### –í–û–î –∏ –í–û–ü

**–í–û–î (–í—ä—Ç—Ä–µ–æ–±—â–Ω–æ—Å—Ç–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ - –ø—Ä–æ20):**
- –î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ —Å—Ç–æ–∫–∏ –∫—ä–º —Ñ–∏—Ä–º–∞ –≤ –¥—Ä—É–≥–∞ –¥—ä—Ä–∂–∞–≤–∞-—á–ª–µ–Ω–∫–∞ –Ω–∞ –ï–°
- 0% –î–î–°
- –ò–∑–∏—Å–∫–≤–∞ —Å–µ –≤–∞–ª–∏–¥–µ–Ω –î–î–° –Ω–æ–º–µ—Ä –Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- –í–∫–ª—é—á–≤–∞ —Å–µ –≤—ä–≤ VIES –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è (–∫3)

**–í–û–ü (–í—ä—Ç—Ä–µ–æ–±—â–Ω–æ—Å—Ç–Ω–æ –ø—Ä–∏–¥–æ–±–∏–≤–∞–Ω–µ - –ø—Ä–æ13):**
- –ü–æ–∫—É–ø–∫–∞ –Ω–∞ —Å—Ç–æ–∫–∏ –æ—Ç —Ñ–∏—Ä–º–∞ –≤ –¥—Ä—É–≥–∞ –¥—ä—Ä–∂–∞–≤–∞-—á–ª–µ–Ω–∫–∞ –Ω–∞ –ï–°
- –°–∞–º–æ–Ω–∞—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –î–î–° (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ 20%)
- –ï–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –µ –ø—Ä–æ–¥–∞–∂–±–∞ (–ø—Ä–æ13) –∏ –ø–æ–∫—É–ø–∫–∞ (–ø–æ–∫09 –∏–ª–∏ –ø–æ–∫10)
- –í–∫–ª—é—á–≤–∞ —Å–µ –≤—ä–≤ VIES –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏ –º–æ–¥—É–ª–∏

### Journal Entries (–°—á–µ—Ç–æ–≤–æ–¥–µ–Ω –¥–Ω–µ–≤–Ω–∏–∫)

–í—Å—è–∫–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä–∞ —Å—á–µ—Ç–æ–≤–æ–¥–µ–Ω –∑–∞–ø–∏—Å (journal_entry) —Å:
- `vat_document_type` - –ö–æ–¥ –Ω–∞ –≤–∏–¥–∞ –¥–æ–∫—É–º–µ–Ω—Ç
- `vat_purchase_operation` - –ö–æ–¥ –Ω–∞ –ø–æ–∫—É–ø–∫–∞ (–∞–∫–æ –µ INPUT)
- `vat_sales_operation` - –ö–æ–¥ –Ω–∞ –ø—Ä–æ–¥–∞–∂–±–∞ (–∞–∫–æ –µ OUTPUT)
- `vat_additional_operation` - –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è (–∑–∞ VIES)
- `vat_date` - –î–î–° –¥–∞—Ç–∞ –∑–∞ –æ—Ç—á–µ—Ç–µ–Ω –ø–µ—Ä–∏–æ–¥

### Counterparts (–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏)

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞:
- –î–∞–ª–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ä—Ç –µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω –ø–æ –î–î–° (`is_vat_registered`)
- –í–∞–ª–∏–¥–µ–Ω –ª–∏ –µ –î–î–° –Ω–æ–º–µ—Ä—ä—Ç (`vat_number`)
- –ó–∞ –í–û–î/–í–û–ü - –¥–∞–ª–∏ –µ –æ—Ç –ï–° –¥—ä—Ä–∂–∞–≤–∞

### Chart of Accounts (–°–º–µ—Ç–∫–æ–ø–ª–∞–Ω)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ —Å–º–µ—Ç–∫–∏:
- **453** - –î–î–° —Å–º–µ—Ç–∫–∏ (4531 - –î–î–° –∑–∞ –≤–Ω–æ—Å, 4532 - –î–î–° –Ω–∞—á–∏—Å–ª–µ–Ω –∏ —Ç.–Ω.)
- **401** - –î–æ—Å—Ç–∞–≤—á–∏—Ü–∏
- **411** - –ö–ª–∏–µ–Ω—Ç–∏
- **60x**, **70x** - –†–∞–∑—Ö–æ–¥–Ω–∏ –∏ –ø—Ä–∏—Ö–æ–¥–Ω–∏ —Å–º–µ—Ç–∫–∏

## API –ü—Ä–∏–º–µ—Ä–∏

### GraphQL Mutations

#### üÜï 1. –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Ç AI —Å–∫–µ–Ω–∏—Ä–∞–Ω–∞ —Ñ–∞–∫—Ç—É—Ä–∞

```graphql
mutation CreateVatFromAI {
  createVatJournalFromAi(input: {
    companyId: 1
    counterpartId: 42
    transactionType: "PURCHASE"
    documentNumber: "INV-2024-001"
    documentDate: "2024-10-17"
    vatDate: "2024-10-17"
    accountingDate: "2024-10-17"
    description: "Acme Corp - INV-2024-001"
    currency: "BGN"
    netAmount: 100.00
    vatAmount: 20.00
    totalAmount: 120.00
  }) {
    success
    journalEntryId
    entryNumber
    message
  }
}
```

**–û—Ç–≥–æ–≤–æ—Ä:**
```json
{
  "createVatJournalFromAi": {
    "success": true,
    "journalEntryId": 123,
    "entryNumber": "JE-20241017-143022",
    "message": "–î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è —Å—ä–∑–¥–∞–¥–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ: INV-2024-001 (–ü–æ–∫—É–ø–∫–∞)"
  }
}
```

#### 2. –†—ä—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è

```graphql
mutation CreateVATEntry {
  createJournalEntry(input: {
    documentNumber: "0000000123"
    documentDate: "2025-10-11"
    accountingDate: "2025-10-11"
    vatDate: "2025-10-11"
    description: "–ü–æ–∫—É–ø–∫–∞ –æ—Ç –î–æ—Å—Ç–∞–≤—á–∏–∫ –û–û–î"
    companyId: 1
    vatDocumentType: "01"
    vatPurchaseOperation: "–ø–æ–∫10"
    lines: [
      {
        accountId: 15
        debitAmount: 1000.00
        description: "–†–∞–∑—Ö–æ–¥"
      },
      {
        accountId: 42
        debitAmount: 200.00
        description: "–î–î–°"
      },
      {
        accountId: 55
        creditAmount: 1200.00
        counterpartId: 10
        description: "–î–æ—Å—Ç–∞–≤—á–∏–∫"
      }
    ]
  }) {
    id
    documentNumber
    entryNumber
  }
}
```

**–ò–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –î–î–° –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è:**

```graphql
query GetVATReturn {
  vatReturn(companyId: 1, year: 2025, month: 10) {
    id
    periodYear
    periodMonth
    totalSalesVat
    totalDeductibleVat
    vatToPay
    vatToRefund
    salesBase20
    salesVat20
    purchaseVatFullCredit
    status
  }
}
```

## –ú–∏–≥—Ä–∞—Ü–∏—è –æ—Ç —Å—Ç–∞—Ä–∞ –≤–µ—Ä—Å–∏—è

–ê–∫–æ –Ω–∞–¥–≥—Ä–∞–∂–¥–∞—Ç–µ –æ—Ç –ø–æ-—Å—Ç–∞—Ä–∞ –≤–µ—Ä—Å–∏—è –Ω–∞ rs-ac-bg:

1. –°—Ç–∞—Ä–∏—Ç–µ –ø–æ–ª–µ—Ç–∞ (`base_amount_20`, `vat_amount_20` –∏ —Ç.–Ω.) —Å–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ –∑–∞ backward compatibility
2. –ù–æ–≤–∏—Ç–µ –ø–æ–ª–µ—Ç–∞ —Å–∞ —Å –ø–æ-—Ç–æ—á–Ω–∏ –∏–º–µ–Ω–∞ (`sales_base_20`, `sales_vat_20`)
3. –ü—Ä–µ–ø–æ—Ä—ä—á–≤–∞ —Å–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –Ω–æ–≤–∏—Ç–µ –ø–æ–ª–µ—Ç–∞ –∑–∞ –≤—Å–∏—á–∫–∏ –Ω–æ–≤–∏ –∑–∞–ø–∏—Å–∏
4. –°—Ç–∞—Ä–∏ –∑–∞–ø–∏—Å–∏ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –º–∏–≥—Ä–∏—Ä–∞–Ω–∏ —Å SQL —Å–∫—Ä–∏–ø—Ç

## –†–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏

- [–ó–î–î–° (–ó–∞–∫–æ–Ω –∑–∞ –¥–∞–Ω—ä–∫ –≤—ä—Ä—Ö—É –¥–æ–±–∞–≤–µ–Ω–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç)](https://www.nap.bg)
- [PPZDDS - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Ññ2 –∫—ä–º —á–ª.124, –∞–ª.2 –æ—Ç –ü–ü–ó–î–°](https://www.nap.bg)
- NAP —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è PPDDS_2025
- [koloni-vat.pdf](../new-vat-nap/koloni-vat.pdf) - –¢–∞–±–ª–∏—Ü–∞ —Å —Ä–µ—Ñ–µ—Ä–µ–Ω—Ç–Ω–∏ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∏

## –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
rs-ac-bg/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ entities/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ vat_return.rs          # Entity –º–æ–¥–µ–ª
‚îÇ       ‚îî‚îÄ‚îÄ graphql/
‚îÇ           ‚îî‚îÄ‚îÄ vat_resolvers.rs        # GraphQL API
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îî‚îÄ‚îÄ pages/
‚îÇ           ‚îú‚îÄ‚îÄ VATEntry.jsx            # –í—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –î–î–°
‚îÇ           ‚îú‚îÄ‚îÄ VAT.jsx                 # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –î–î–°
‚îÇ           ‚îî‚îÄ‚îÄ Reports.jsx             # –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ NAP —Ñ–∞–π–ª–æ–≤–µ
‚îú‚îÄ‚îÄ migration/
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ m20240101_000010_create_vat_returns.rs
‚îÇ       ‚îî‚îÄ‚îÄ m20250101_000001_add_nap_fields_to_vat_returns.rs
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ VAT-MODULE.md                   # –¢–∞–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –¢–µ—Å—Ç–≤–∞–Ω–µ

### –¢–µ—Å—Ç–æ–≤–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏

1. **–û—Å–Ω–æ–≤–Ω–∞ –ø–æ–∫—É–ø–∫–∞ —Å –î–î–° 20%:**
   - –û–ø–µ—Ä–∞—Ü–∏—è: –ø–æ–∫10 (–ø—ä–ª–µ–Ω –î–ö)
   - –û—Å–Ω–æ–≤–∞: 1000 –ª–≤.
   - –î–î–°: 200 –ª–≤.
   - –û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç: –î–î–° –∑–∞ –ø—Ä–∏—Å–ø–∞–¥–∞–Ω–µ 200 –ª–≤.

2. **–ü—Ä–æ–¥–∞–∂–±–∞ —Å –î–î–° 9%:**
   - –û–ø–µ—Ä–∞—Ü–∏—è: –ø—Ä–æ17
   - –û—Å–Ω–æ–≤–∞: 500 –ª–≤.
   - –î–î–°: 45 –ª–≤.
   - –û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç: –ù–∞—á–∏—Å–ª–µ–Ω –î–î–° 45 –ª–≤.

3. **–í–û–î (–ï–∫—Å–ø–æ—Ä—Ç –≤ –ï–°):**
   - –û–ø–µ—Ä–∞—Ü–∏—è: –ø—Ä–æ20
   - –û—Å–Ω–æ–≤–∞: 2000 –ª–≤.
   - –î–î–°: 0 –ª–≤.
   - VIES: –î–∞ (–∫3)
   - –û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç: –ü–æ–ø—ä–ª–≤–∞ —Å–µ –≤—ä–≤ VIES –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è

4. **–í–û–ü (–í–Ω–æ—Å –æ—Ç –ï–°):**
   - –û–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–∞–∂–±–∞: –ø—Ä–æ13
   - –û–ø–µ—Ä–∞—Ü–∏—è –ø–æ–∫—É–ø–∫–∞: –ø–æ–∫10
   - –û—Å–Ω–æ–≤–∞: 1500 –ª–≤.
   - –î–î–° —Å–∞–º–æ–Ω–∞—á–∏—Å–ª—è–≤–∞–Ω–µ: 300 –ª–≤.
   - –û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç: –î–î–° 300 –ª–≤. —Å–µ –Ω–∞—á–∏—Å–ª—è–≤–∞ –ò –ø—Ä–∏—Å–ø–∞–¥–∞ (–Ω—É–ª–µ–≤ –µ—Ñ–µ–∫—Ç)

## –ò–∑–≤–µ—Å—Ç–Ω–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ß–∞—Å—Ç–∏—á–µ–Ω –¥–∞–Ω—ä—á–µ–Ω –∫—Ä–µ–¥–∏—Ç (–ø–æ–∫12):** –ö–æ–µ—Ñ–∏—Ü–∏–µ–Ω—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ —Ä—ä—á–Ω–æ –∏–ª–∏ —Å –æ—Ç–¥–µ–ª–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç
2. **VIES –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è:** –ì–µ–Ω–µ—Ä–∏—Ä–∞ —Å–µ –æ—Ç–¥–µ–ª–Ω–æ –æ—Ç NAP —Ñ–∞–π–ª–æ–≤–µ—Ç–µ
3. **–ö–æ—Ä–µ–∫—Ü–∏–∏:** –ü—Ä–∏ –∫–æ—Ä–µ–∫—Ü–∏–∏ –Ω–∞ —Å—Ç–∞—Ä–∏ –ø–µ—Ä–∏–æ–¥–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∞—Ç–∞ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è
4. **–ú–Ω–æ–≥–æ—Ñ–∏—Ä–º–µ–Ω–∞ —Å—Ä–µ–¥–∞:** –í—Å—è–∫–∞ —Ñ–∏—Ä–º–∞ –∏–º–∞ –æ—Ç–¥–µ–ª–Ω–∏ –î–î–° –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ –ø–æ `company_id`

## –ü–æ–¥–¥—Ä—ä–∂–∫–∞ –∏ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏—è

–ü—Ä–∏ –≤—ä–ø—Ä–æ—Å–∏ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
- GitHub Issues: [rs-ac-bg/issues](https://github.com/...)
- Email: support@...

–í–µ—Ä—Å–∏—è: 2.0 (—è–Ω—É–∞—Ä–∏ 2025)
–°—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç: NAP PPDDS_2025, –ó–î–î–° (–∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è 2024)
