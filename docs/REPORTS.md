# –û—Ç—á–µ—Ç–∏ –∏ –°–ø—Ä–∞–≤–∫–∏

RS-AC-BG –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –ø—ä–ª–µ–Ω –Ω–∞–±–æ—Ä –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –æ—Ç—á–µ—Ç–∏ –∑–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∞—Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞.

## üìä –ù–∞–ª–∏—á–Ω–∏ –æ—Ç—á–µ—Ç–∏

### 1. –û–±–æ—Ä–æ—Ç–Ω–∞ –≤–µ–¥–æ–º–æ—Å—Ç
**–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±–æ–±—â–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –æ–±–æ—Ä–æ—Ç–∏—Ç–µ –∏ —Å–∞–ª–¥–∞—Ç–∞ –Ω–∞ –≤—Å–∏—á–∫–∏ —Å–º–µ—Ç–∫–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –ø–µ—Ä–∏–æ–¥.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏**:
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –ø–µ—Ä–∏–æ–¥ (–æ—Ç/–¥–æ –¥–∞—Ç–∞)
- –ò–∑–±–æ—Ä –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Å–º–µ—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)
- –ü–æ–∫–∞–∑–≤–∞–Ω–µ/—Å–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –Ω—É–ª–µ–≤–∏ —Å–∞–ª–¥–∞
- Excel –∏ PDF –µ–∫—Å–ø–æ—Ä—Ç

**–ö–æ–ª–æ–Ω–∏**:
- –°–º–µ—Ç–∫–∞ (–∫–æ–¥ –∏ –∏–º–µ)  
- –ù–∞—á–∞–ª–Ω–æ —Å–∞–ª–¥–æ (–¥–µ–±–∏—Ç/–∫—Ä–µ–¥–∏—Ç)
- –û–±–æ—Ä–æ—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥–∞ (–¥–µ–±–∏—Ç/–∫—Ä–µ–¥–∏—Ç)
- –ö—Ä–∞–π–Ω–æ —Å–∞–ª–¥–æ (–¥–µ–±–∏—Ç/–∫—Ä–µ–¥–∏—Ç)
- –û–±—â–∏ —Å—É–º–∏ (footer row)

### 2. –•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ–Ω —Ä–µ–≥–∏—Å—Ç—ä—Ä  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ–Ω —Å–ø–∏—Å—ä–∫ –Ω–∞ –≤—Å–∏—á–∫–∏ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–ø–æ—Ä–µ–¥ –±—ä–ª–≥–∞—Ä—Å–∫–∞—Ç–∞ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏**:
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –ø–µ—Ä–∏–æ–¥
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Å–º–µ—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)  
- Excel –∏ PDF –µ–∫—Å–ø–æ—Ä—Ç
- –ü–æ–¥–¥—Ä—ä–∂–∫–∞ –∑–∞ ChronReg.csv —Ñ–æ—Ä–º–∞—Ç

**–ö–æ–ª–æ–Ω–∏**:
- –î–∞—Ç–∞
- –î–µ–±–∏—Ç —Å–º–µ—Ç–∫–∞ (–∫–æ–¥/–∏–º–µ)
- –ö—Ä–µ–¥–∏—Ç —Å–º–µ—Ç–∫–∞ (–∫–æ–¥/–∏–º–µ)
- –°—É–º–∞ –≤ –ª–µ–≤–∞
- –í–∞–ª—É—Ç–Ω–∏ —Å—É–º–∏ (–∞–∫–æ —Å–∞ –ø—Ä–∏–ª–æ–∂–∏–º–∏)
- –í–∞–ª—É—Ç–Ω–∏ –∫–æ–¥–æ–≤–µ
- –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç
- –î–∞—Ç–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
- –û–ø–∏—Å–∞–Ω–∏–µ
- –û–±—â–∏ —Å—É–º–∏ (footer)

### 3. –ì–ª–∞–≤–Ω–∞ –∫–Ω–∏–≥–∞
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–¥—Ä–æ–±–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è –ø–æ –≤—Å—è–∫–∞ —Å–º–µ—Ç–∫–∞ —Å –≤—Å–∏—á–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è –∏ —Ç–µ–∫—É—â–æ —Å–∞–ª–¥–æ.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏**:
- –ì—Ä—É–ø–∏—Ä–∞–Ω–µ –ø–æ —Å–º–µ—Ç–∫–∏
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –ø–µ—Ä–∏–æ–¥
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Å–º–µ—Ç–∫–∞
- –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –Ω–∞—á–∞–ª–Ω–∏ –∏ –∫—Ä–∞–π–Ω–∏ —Å–∞–ª–¥–∞
- –°–∞–º–æ –ø—Ä–µ–≥–ª–µ–¥ (–±–µ–∑ –µ–∫—Å–ø–æ—Ä—Ç –∑–∞—Å–µ–≥–∞)

**–°–µ–∫—Ü–∏–∏ –∑–∞ –≤—Å—è–∫–∞ —Å–º–µ—Ç–∫–∞**:
- Header —Å –∫–æ–¥, –∏–º–µ –∏ —Å–∞–ª–¥–∞
- –ù–∞—á–∞–ª–Ω–æ —Å–∞–ª–¥–æ row
- –í—Å–∏—á–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–Ω–æ  
- –û–±—â–∞ —Å—É–º–∞ row –∑–∞ —Å–º–µ—Ç–∫–∞—Ç–∞

### 4. –î–Ω–µ–≤–Ω–∏–∫ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ
**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–µ—Ç–∞–π–ª–µ–Ω —Å–ø–∏—Å—ä–∫ –Ω–∞ –≤—Å–∏—á–∫–∏ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –∑–∞–ø–∏—Å–∏ —Å —Ç–µ—Ö–Ω–∏—Ç–µ —Ä–µ–¥–æ–≤–µ.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏**:
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –ø–µ—Ä–∏–æ–¥
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Å–º–µ—Ç–∫–∞
- –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –Ω–æ–º–µ—Ä –Ω–∞ –∑–∞–ø–∏—Å
- –ù–æ–º–µ—Ä –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
- –°–∞–º–æ –ø—Ä–µ–≥–ª–µ–¥ (–±–µ–∑ –µ–∫—Å–ø–æ—Ä—Ç –∑–∞—Å–µ–≥–∞)

**–ö–æ–ª–æ–Ω–∏**:
- –î–∞—Ç–∞
- –ù–æ–º–µ—Ä –Ω–∞ –∑–∞–ø–∏—Å
- –ù–æ–º–µ—Ä –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
- –°–º–µ—Ç–∫–∞ (–∫–æ–¥/–∏–º–µ)  
- –û–ø–∏—Å–∞–Ω–∏–µ
- –î–µ–±–∏—Ç/–ö—Ä–µ–¥–∏—Ç —Å—É–º–∏
- –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç

## üîÑ –ï–∫—Å–ø–æ—Ä—Ç –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Excel (.xlsx)
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞**: `rust_xlsxwriter`
- **–§–æ—Ä–º–∞—Ç**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–∏ —Ä–∞–±–æ—Ç–Ω–∏ –ª–∏—Å—Ç–æ–≤–µ
- **–§—É–Ω–∫—Ü–∏–∏**: 
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ä–∞–∑–º–µ—Ä—è–≤–∞–Ω–µ –Ω–∞ –∫–æ–ª–æ–Ω–∏
  - Header —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ
  - –ß–∏—Å–ª–æ–≤–∏ —Ñ–æ—Ä–º–∞—Ç–∏ –∑–∞ —Å—É–º–∏
  - UTF-8 –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –∑–∞ –∫–∏—Ä–∏–ª–∏—Ü–∞

### PDF  
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è**: HTML5-to-PDF —Å `headless_chrome`
- **–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞**:
  - –û—Ç–ª–∏—á–Ω–æ –∫–∏—Ä–∏–ª–∏—á–Ω–æ —Ä–µ–Ω–¥–∏—Ä–∞–Ω–µ  
  - CSS —Å—Ç–∏–ª–∏–∑–∏—Ä–∞–Ω–µ
  - –ù–∏–∫–∞–∫–≤–∏ –ø—Ä–æ–±–ª–µ–º–∏ —Å —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è
  - –ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –≤–∏–¥

**HTML Template —Ñ—É–Ω–∫—Ü–∏–∏**:
```html
<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <title>{report_title}</title>
    <style>
        body { font-family: Arial, sans-serif; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        .header { background-color: #f5f5f5; }
    </style>
</head>
...
```

## üìã GraphQL API

### Queries

```graphql
# –û–±–æ—Ä–æ—Ç–Ω–∞ –≤–µ–¥–æ–º–æ—Å—Ç
query GetTurnoverSheet($input: TurnoverReportInput!) {
  turnoverSheet(input: $input) {
    companyName
    periodStart  
    periodEnd
    entries { ... }
    totals { ... }
    generatedAt
  }
}

# –•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ–Ω —Ä–µ–≥–∏—Å—Ç—ä—Ä
query GetChronologicalReport($input: ChronologicalReportInput!) {
  chronologicalReport(input: $input) {
    companyName
    entries { ... }
    totalAmount
    generatedAt
  }
}
```

### Mutations –∑–∞ –µ–∫—Å–ø–æ—Ä—Ç

```graphql
# Excel/PDF –µ–∫—Å–ø–æ—Ä—Ç
mutation ExportTurnoverSheet($input: TurnoverReportInput!, $format: String!) {
  exportTurnoverSheet(input: $input, format: $format) {
    format
    content    # Base64 encoded
    filename
    mimeType
  }
}
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è

### Backend (Rust)
```
backend/src/graphql/reports_resolvers.rs
‚îú‚îÄ‚îÄ TurnoverSheet queries & mutations  
‚îú‚îÄ‚îÄ ChronologicalReport queries & mutations
‚îú‚îÄ‚îÄ TransactionLog & GeneralLedger queries
‚îú‚îÄ‚îÄ Excel generation functions
‚îî‚îÄ‚îÄ HTML-to-PDF generation functions
```

### Frontend (React)
```
frontend/src/pages/Reports.jsx
‚îú‚îÄ‚îÄ Report type selection dropdown
‚îú‚îÄ‚îÄ Date range pickers  
‚îú‚îÄ‚îÄ Account filter (optional)
‚îú‚îÄ‚îÄ Generate & Export buttons
‚îî‚îÄ‚îÄ Report display tables
```

## üéØ –ü–ª–∞–Ω–∏—Ä–∞–Ω–∏ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è

### V0.3.0
- [ ] PDF –µ–∫—Å–ø–æ—Ä—Ç –∑–∞ –ì–ª–∞–≤–Ω–∞ –∫–Ω–∏–≥–∞ –∏ –î–Ω–µ–≤–Ω–∏–∫
- [ ] –ü–∞–∫–µ—Ç–µ–Ω –µ–∫—Å–ø–æ—Ä—Ç –Ω–∞ –≤—Å–∏—á–∫–∏ –æ—Ç—á–µ—Ç–∏  
- [ ] Email –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –æ—Ç—á–µ—Ç–∏
- [ ] Scheduled –æ—Ç—á–µ—Ç–∏ (daily/monthly)
- [ ] –û—Ç—á–µ—Ç–∏ —Å –ª–æ–≥–æ –∏ header –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### V0.4.0  
- [ ] –ê–Ω–∞–ª–∏—Ç–∏—á–Ω–∏ –æ—Ç—á–µ—Ç–∏
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –°—Ä–∞–≤–Ω–∏—Ç–µ–ª–Ω–∏ –∞–Ω–∞–ª–∏–∑–∏ –ø–æ –ø–µ—Ä–∏–æ–¥–∏
- [ ] Custom report builder
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

## üáßüá¨ –ë—ä–ª–≥–∞—Ä—Å–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞

- **–§–æ—Ä–º–∞—Ç –Ω–∞ –¥–∞—Ç–∏—Ç–µ**: DD.MM.YYYY (–±—ä–ª–≥–∞—Ä—Å–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è)
- **–í–∞–ª—É—Ç–∞**: BGN —Å –±—ä–ª–≥–∞—Ä—Å–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (2 –¥–µ—Å. –∑–Ω–∞–∫–∞) 
- **–•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ–Ω —Ä–µ–≥–∏—Å—Ç—ä—Ä**: –°–ø–æ—Ä–µ–¥ ChronReg.csv —Å—Ç–∞–Ω–¥–∞—Ä—Ç
- **–ù—É–º–µ—Ä–∞—Ü–∏—è**: –ë—ä–ª–≥–∞—Ä—Å–∫–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ—Å—Ç –Ω–∞ –∑–∞–ø–∏—Å–∏
- **–ö–∏—Ä–∏–ª–∏—Ü–∞**: –ü—ä–ª–Ω–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –≤—ä–≤ –≤—Å–∏—á–∫–∏ –æ—Ç—á–µ—Ç–∏

## üö´ –ù–µ–¥–æ—Å—Ç—ä–ø–Ω–∏ (–∑–∞—Å–µ–≥–∞)

**–ì–æ–¥–∏—à–Ω–∏ –æ—Ç—á–µ—Ç–∏** - —â–µ –±—ä–¥–∞—Ç –¥–æ–±–∞–≤–µ–Ω–∏ –∫–æ–≥–∞—Ç–æ –∏–º–∞ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –¥–∞–Ω–Ω–∏:
- [ ] –û—Ç—á–µ—Ç –∑–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –∏ —Ä–∞–∑—Ö–æ–¥–∏—Ç–µ (–û–ü–†)
- [ ] –ë–∞–ª–∞–Ω—Å  
- [ ] –û—Ç—á–µ—Ç –∑–∞ –ø–∞—Ä–∏—á–Ω–∏—Ç–µ –ø–æ—Ç–æ—Ü–∏
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫—ä–º –≥–æ–¥–∏—à–Ω–∏—è –æ—Ç—á–µ—Ç

–¢–µ–∑–∏ –æ—Ç—á–µ—Ç–∏ –∏–∑–∏—Å–∫–≤–∞—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞ –≥–æ–¥–∏–Ω–∞ –¥–∞–Ω–Ω–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è –∫–æ–∏—Ç–æ –∑–∞—Å–µ–≥–∞ –Ω–µ —Å–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.