# –ò–º–ø–æ—Ä—Ç –°–∏—Å—Ç–µ–º–∞

–ú–æ–¥—É–ª –∑–∞ –∏–º–ø–æ—Ä—Ç –Ω–∞ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –¥–∞–Ω–Ω–∏ –æ—Ç –≤—ä–Ω—à–Ω–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏.

## üì• –¢–∏–ø–æ–≤–µ –∏–º–ø–æ—Ä—Ç–∏

### üÜï 1. AI –°–∫–µ–Ω–µ—Ä –Ω–∞ –§–∞–∫—Ç—É—Ä–∏ (NEW!)

**–†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç** –∫–æ—è—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞ —Ñ–∞–∫—Ç—É—Ä–∏ –∏ —Å—ä–∑–¥–∞–≤–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –µ–¥–∏–Ω –∫–ª–∏–∫!

#### –í—ä–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ü§ñ **Mistral AI Vision** - –ò–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–æ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞–Ω–µ –Ω–∞ —Ç–µ–∫—Å—Ç
- üìÑ **PDF –∏ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** - PNG, JPG, JPEG, PDF —Ñ–æ—Ä–º–∞—Ç–∏
- ‚úÖ **VIES –í–∞–ª–∏–¥–∞—Ü–∏—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –î–î–° –Ω–æ–º–µ—Ä–∞
- üíº **–î–∏—Ä–µ–∫—Ç–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ —Ä—ä—á–Ω–∞ —Ä–∞–±–æ—Ç–∞

#### Workflow
1. **Upload** - –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Å–Ω–∏–º–∫–∞/PDF –Ω–∞ —Ñ–∞–∫—Ç—É—Ä–∞
2. **AI Scan** - Mistral AI –∏–∑–≤–ª–∏—á–∞ –≤—Å–∏—á–∫–∏ –¥–∞–Ω–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
3. **VIES Check** - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –î–î–° –Ω–æ–º–µ—Ä —á—Ä–µ–∑ EU VIES
4. **Create VAT** - –ë—É—Ç–æ–Ω "–°—ä–∑–¥–∞–π –î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è" üíº
5. **Done** - –ì–æ—Ç–æ–≤ journal entry —Å –ø—Ä–∞–≤–∏–ª–Ω–∏—Ç–µ –î–î–° –∫–æ–¥–æ–≤–µ!

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑–≤–ª–∏—á–∞
- –¢–∏–ø –∏ –Ω–æ–º–µ—Ä –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
- –î–∞—Ç–∞ –Ω–∞ –∏–∑–¥–∞–≤–∞–Ω–µ –∏ –ø–∞–¥–µ–∂
- –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç (–∏–º–µ, –ï–ò–ö, –î–î–° –Ω–æ–º–µ—Ä, –∞–¥—Ä–µ—Å)
- –°—É–º–∏ (–æ—Å–Ω–æ–≤–∞, –î–î–°, –æ–±—â–∞ —Å—É–º–∞)
- –í–∞–ª—É—Ç–∞
- –ê—Ä—Ç–∏–∫—É–ª–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ —Ü–µ–Ω–∏

üìñ **–ü—ä–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [AI_INVOICE_SCANNER.md](AI_INVOICE_SCANNER.md)

---

### 2. Controlisy –∏–º–ø–æ—Ä—Ç

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω –∏–º–ø–æ—Ä—Ç –æ—Ç PDF –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∏ XML —Ñ–∞–π–ª–æ–≤–µ –æ–±—Ä–∞–±–æ—Ç–µ–Ω–∏ –æ—Ç Controlisy AI.

#### –ü–æ–¥–¥—ä—Ä–∂–∞–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ
- `.xml` - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–∏ —Å—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –¥–∞–Ω–Ω–∏  
- `.pdf` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–∞–±–æ—Ç–µ–Ω–∏ —Ñ–∞–∫—Ç—É—Ä–∏

#### XML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```xml
<ExportedData>
  <Contractors>
    <Contractor
      contractorName="–ò–º–µ"
      contractorEIK="–ë–£–õ–°–¢–ê–¢"
      contractorVATNumber="–î–î–° –Ω–æ–º–µ—Ä"
    />
  </Contractors>
  <Documents>
    <Document
      documentDate="YYYY-MM-DD"
      documentNumber="–Ω–æ–º–µ—Ä"
      reason="–æ–ø–∏—Å–∞–Ω–∏–µ"
      totalAmountBGN="—Å—É–º–∞"
    >
      <Accountings>
        <Accounting amountBGN="—Å—É–º–∞">
          <AccountingDetail 
            direction="Debit|Credit"
            accountNumber="—Å–º–µ—Ç–∫–∞"
            accountName="–∏–º–µ"
            contractorName="–∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç"
          />
        </Accounting>
      </Accountings>
      <VATData vatRegister="1">
        <VAT 
          taxBase="–æ—Å–Ω–æ–≤–∞"
          vatRate="—Å—Ç–∞–≤–∫–∞" 
          vatAmountBGN="–¥–¥—Å"
          vatOperationIden="1|2|3|..."
        />
      </VATData>
    </Document>
  </Documents>
</ExportedData>
```

#### –î–î–° –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ö–æ–¥ 1** - –ü–æ–∫—É–ø–∫–∏ —Å –ø—ä–ª–µ–Ω –î–ö
- **–ö–æ–¥ 2** - –ü–æ–∫—É–ø–∫–∏ —Å —á–∞—Å—Ç–∏—á–µ–Ω –î–ö  
- **–ö–æ–¥ 3** - –ü–æ–∫—É–ø–∫–∏ –±–µ–∑ –î–î–°
- **–ö–æ–¥ 9001** - –í–û–ü –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ò –¥—Ä—É–≥–∏ —Å–ø–æ—Ä–µ–¥ –ü–ü–ó–î–î–°

#### Workflow
1. **Upload** - –ö–∞—á–≤–∞–Ω–µ –Ω–∞ XML/PDF —Ñ–∞–π–ª–æ–≤–µ
2. **Parse** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞
3. **Review** - –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –∏–º–ø–æ—Ä—Ç
4. **Map** - –ú–∞–ø–∏—Ä–∞–Ω–µ –Ω–∞ —Å–º–µ—Ç–∫–∏ (Controlisy ‚Üí –í–∞—à–∏)
5. **Import** - –§–∏–Ω–∞–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞

#### –û—Å–æ–±–µ–Ω–æ—Å—Ç–∏
- –ò–≥–Ω–æ—Ä–∏—Ä–∞—Ç —Å–µ –∞–Ω–∞–ª–∏—Ç–∏—á–Ω–∏—Ç–µ –ø—Ä–∏–∑–Ω–∞—Ü–∏ (accountItem1-4)
- –ó–∞–ø–∏—Å–∏ –ø–æ –µ–¥–Ω–∞ —Å–º–µ—Ç–∫–∞ —Å–µ –≥—Ä—É–ø–∏—Ä–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–æ—Å—Ç –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ç–µ

### 3. –ë–∞–Ω–∫–æ–≤–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

–ò–º–ø–æ—Ä—Ç –Ω–∞ –±–∞–Ω–∫–æ–≤–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ —Ñ–æ—Ä–º–∞—Ç–∏.

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –±–∞–Ω–∫–æ–≤–∏ –ø—Ä–æ—Ñ–∏–ª–∏
- –ü—ä—Ç: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–∞–Ω–∫–∏** (`/banks`)
- –ó–∞ –≤—Å—è–∫–∞ –±–∞–Ω–∫–∞ —Å–µ –∑–∞–¥–∞–≤–∞—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–Ω–∞ —Å–º–µ—Ç–∫–∞, –±—É—Ñ–µ—Ä–Ω–∞ —Å–º–µ—Ç–∫–∞, –≤–∞–ª—É—Ç–∞ –∏ —Ñ–æ—Ä–º–∞—Ç –Ω–∞ –∏–º–ø–æ—Ä—Ç–∞ (UniCredit MT940, Wise CAMT.053, Postbank XML –∏ –¥—Ä.).
- IBAN –µ –ø–æ –∏–∑–±–æ—Ä –∏ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ –ø–æ-–ª–µ—Å–Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.

> –ë—É—Ñ–µ—Ä–Ω–∞—Ç–∞ —Å–º–µ—Ç–∫–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Ä–∞–∑—è–≤–∞–Ω–µ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ç–∞ –∏ –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ –º–æ–∂–µ –¥–∞ —Å–µ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª—è –ø–æ —Ñ–∏–Ω–∞–ª–Ω–∏ —Å–º–µ—Ç–∫–∏/–∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∑–∞ –±–∞–Ω–∫–æ–≤–∏ –∑–∞–ø–∏—Å–∏.

#### –ü—Ä–µ–≥–ª–µ–¥ –∏ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫–æ–≤–∏ –∑–∞–ø–∏—Å–∏
- –¢–∞–± **‚Äû–ë–∞–Ω–∫–æ–≤–∏ –∑–∞–ø–∏—Å–∏‚Äú** –≤ `/banks` –ø–æ–∫–∞–∑–≤–∞ –≤—Å–∏—á–∫–∏ –∏–º–ø–æ—Ä—Ç–Ω–∞—Ç–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è.
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –ø–µ—Ä–∏–æ–¥ ‚Äû–û—Ç –¥–∞—Ç–∞ / –î–æ –¥–∞—Ç–∞‚Äú (–∑–∞—Ä–µ–∂–¥–∞—Ç —Å–µ —Å–∞–º–æ –∏–º–ø–æ—Ä—Ç–∏—Ç–µ –≤ –∏–∑–±—Ä–∞–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω).
- –°–ø–∏—Å—ä–∫—ä—Ç —Å –∏–º–ø–æ—Ä—Ç–∏—Ç–µ –µ —Å–æ—Ä—Ç–∏—Ä–∞–Ω –ø–æ –¥–∞—Ç–∞/—á–∞—Å –∏ –ø–æ–∫–∞–∑–≤–∞ –±—Ä–æ–π –∑–∞–ø–∏—Å–∏ –∏ –æ–±–æ—Ä–æ—Ç–∏.
- –û–±–æ–±—â–µ–Ω–∏–µ –∑–∞ –ø–µ—Ä–∏–æ–¥–∞: –±—Ä–æ–π –∂—É—Ä–Ω–∞–ª–Ω–∏ –∑–∞–ø–∏—Å–∏, –æ–±–æ—Ä–æ—Ç –î—Ç/–ö—Ç –∏ —Å–∞–ª–¥–æ –ø–æ –±–∞–Ω–∫–æ–≤–∞—Ç–∞ —Å–º–µ—Ç–∫–∞.
- –©—Ä–∞–∫–≤–∞–Ω–µ—Ç–æ –≤—ä—Ä—Ö—É –±—É—Ñ–µ—Ä–Ω–∏—è —Ä–µ–¥ –æ—Ç–≤–∞—Ä—è –∏–Ω–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—ä—Å —Ç—ä—Ä—Å–∞—á–∫–∞ –∑–∞ —Å–º–µ—Ç–∫–∏ –∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏. –°–ª–µ–¥ –∑–∞–ø–∏—Å —Å–µ –ø—Ä–µ–∑–∞—Ä–µ–∂–¥–∞ —Å–∞–º–æ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è—Ç –∂—É—Ä–Ω–∞–ª–µ–Ω –∑–∞–ø–∏—Å.
- –ü–æ-—Å—Ç–∞—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å–µ –æ—Ç–∫—Ä–∏–≤–∞—Ç —á—Ä–µ–∑ —Ñ–∏–ª—Ç—ä—Ä–∞ –ø–æ –¥–∞—Ç–∏.

#### –ü–æ–¥–¥—ä—Ä–∂–∞–Ω–∏ —Ñ–æ—Ä–º–∞—Ç–∏

##### MT940 (SWIFT —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
```
:20:REFERENCE
:25:ACCOUNT
:28C:STATEMENT
:60F:OPENING
:61:VALUE DATE
:86:INFORMATION
:62F:CLOSING
```

##### CSV —Ñ–æ—Ä–º–∞—Ç
```csv
Date,Reference,Description,Debit,Credit,Balance
2024-01-01,REF001,Payment,100.00,,1000.00
```

##### XML –±–∞–Ω–∫–æ–≤
```xml
<BankStatement>
  <Account>BG80BNBG96611020345678</Account>
  <Transactions>
    <Transaction>
      <Date>2024-01-01</Date>
      <Amount>-100.00</Amount>
      <Description>Payment</Description>
    </Transaction>
  </Transactions>
</BankStatement>
```

#### Workflow
1. **Format** - –ò–∑–±–æ—Ä –Ω–∞ –±–∞–Ω–∫–æ–≤ —Ñ–æ—Ä–º–∞—Ç
2. **Upload** - –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ
3. **Parse** - –†–∞–∑–ø–æ–∑–Ω–∞–≤–∞–Ω–µ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ
4. **Match** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –º–∞–ø–∏—Ä–∞–Ω–µ –∫—ä–º —Å–º–µ—Ç–∫–∏
5. **Import** - –ò–º–ø–æ—Ä—Ç —Å—ä—Å —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞–ø–∏—Å–∏

### 4. –£–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω –∏–º–ø–æ—Ä—Ç

–ì—ä–≤–∫–∞–≤ –∏–º–ø–æ—Ä—Ç –æ—Ç Excel, CSV –∏ –¥—Ä—É–≥–∏ —Ñ–æ—Ä–º–∞—Ç–∏.

#### –®–∞–±–ª–æ–Ω–∏

##### –î–Ω–µ–≤–Ω–∏–∫ –∑–∞–ø–∏—Å–∏
```csv
Date,Document,Description,Account,Debit,Credit,Counterpart
2024-01-01,DOC001,Purchase,601,100.00,0.00,Supplier Ltd
2024-01-01,DOC001,Purchase,401,0.00,100.00,Supplier Ltd
```

##### –°–º–µ—Ç–∫–æ–ø–ª–∞–Ω
```csv
Code,Name,Type,Parent,IsAnalytical
1,–ê–ö–¢–ò–í–ò,ASSETS,,FALSE
10,–î—ä–ª–≥–æ—Ç—Ä–∞–π–Ω–∏ –∞–∫—Ç–∏–≤–∏,ASSETS,1,FALSE
101,–ó–µ–º–∏ –∏ —Å–≥—Ä–∞–¥–∏,ASSETS,10,TRUE
```

##### –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏
```csv
Name,EIK,VATNumber,Address,City,Country
Company Ltd,123456789,BG123456789,Address 1,Sofia,BG
```

#### Workflow
1. **Template** - –ò–∑–±–æ—Ä –Ω–∞ —à–∞–±–ª–æ–Ω –∏–ª–∏ custom –º–∞–ø–∏—Ä–∞–Ω–µ
2. **Upload** - –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ
3. **Map** - –ú–∞–ø–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–ª–æ–Ω–∏ –∫—ä–º –ø–æ–ª–µ—Ç–∞
4. **Validate** - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ
5. **Import** - Bulk –∏–º–ø–æ—Ä—Ç

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
```
pages/ImportCenter.jsx          # –û—Å–Ω–æ–≤–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ç–∞–±–æ–≤–µ
‚îú‚îÄ‚îÄ components/imports/
‚îÇ   ‚îú‚îÄ‚îÄ ControlisyImport.jsx    # Controlisy –∏–º–ø–æ—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ BankImport.jsx          # –ë–∞–Ω–∫–æ–≤–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è  
‚îÇ   ‚îî‚îÄ‚îÄ UniversalImport.jsx     # –£–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω –∏–º–ø–æ—Ä—Ç
‚îî‚îÄ‚îÄ components/imports/
    ‚îî‚îÄ‚îÄ ControlisyImportModal.jsx # 4-—Å—Ç—ä–ø–∫–æ–≤ wizard
```

### Backend endpoints
```rust
// GraphQL mutations
createImportBatch(input: ImportBatchInput!) -> ImportBatch
validateImportBatch(batchId: String!) -> ValidationResult  
importBatch(batchId: String!) -> ImportResult

// Resolvers
import_resolvers.rs             # –ò–º–ø–æ—Ä—Ç –ª–æ–≥–∏–∫–∞
controlisy_parser.rs            # Controlisy XML –ø–∞—Ä—Å—ä—Ä
bank_parser.rs                  # –ë–∞–Ω–∫–æ–≤–∏ —Ñ–æ—Ä–º–∞—Ç–∏
universal_parser.rs             # –£–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω –ø–∞—Ä—Å—ä—Ä
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏
```sql
-- –ò–º–ø–æ—Ä—Ç –±–∞—Ç—á–æ–≤–µ
CREATE TABLE import_batches (
  id UUID PRIMARY KEY,
  batch_id VARCHAR UNIQUE,
  source VARCHAR(50),          -- 'controlisy', 'bank', 'universal'
  status VARCHAR(20),          -- 'draft', 'validated', 'imported'
  company_id UUID
);

-- –ò–º–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∏
CREATE TABLE import_documents (
  id UUID PRIMARY KEY,
  batch_id UUID REFERENCES import_batches(id),
  doc_number VARCHAR,
  doc_date DATE,
  total_amount DECIMAL,
  is_balanced BOOLEAN
);

-- –ò–º–ø–æ—Ä—Ç –∑–∞–ø–∏—Å–∏
CREATE TABLE import_entries (
  id UUID PRIMARY KEY,
  document_id UUID REFERENCES import_documents(id),
  account VARCHAR,
  debit DECIMAL,
  credit DECIMAL
);
```

## üöÄ –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ

### 1. –î–æ—Å—Ç—ä–ø –¥–æ –∏–º–ø–æ—Ä—Ç–∏
```
–ú–µ–Ω—é ‚Üí –°—á–µ—Ç–æ–≤–æ–¥—Å—Ç–≤–æ ‚Üí –ò–º–ø–æ—Ä—Ç–∏
URL: /imports
```

### 2. –ò–∑–±–æ—Ä –Ω–∞ —Ç–∏–ø –∏–º–ø–æ—Ä—Ç
- **Controlisy** - PDF/XML –æ—Ç Controlisy —Å–∏—Å—Ç–µ–º–∞
- **–ë–∞–Ω–∫–æ–≤–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è** - MT940, CSV, XML  
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω** - Excel, CSV —Å —à–∞–±–ª–æ–Ω–∏

### 3. –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ
- Drag & drop –ø–æ–¥–¥—Ä—ä–∂–∫–∞
- Multiple file selection
- Real-time –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ç–µ

### 4. –ü—Ä–µ–≥–ª–µ–¥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–∞—Ä—Å–≤–∞–Ω–µ
- –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- Preview –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –∏–º–ø–æ—Ä—Ç

### 5. –ú–∞–ø–∏—Ä–∞–Ω–µ (–ø—Ä–∏ –Ω—É–∂–¥–∞)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- –†—ä—á–Ω–æ –º–∞–ø–∏—Ä–∞–Ω–µ –Ω–∞ —Å–º–µ—Ç–∫–∏
- –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –º–∞–ø–∏–Ω–≥–∞ –∑–∞ –±—ä–¥–µ—â–æ

### 6. –§–∏–Ω–∞–ª–µ–Ω –∏–º–ø–æ—Ä—Ç
- Batch —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞–ø–∏—Å–∏
- Real-time progress
- –î–µ—Ç–∞–π–ª–µ–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç —Å –≥—Ä–µ—à–∫–∏

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è

### –û–±—â–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –§–∞–π–ª–æ–≤ —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –†–∞–∑–º–µ—Ä –Ω–∞ —Ñ–∞–π–ª–∞  
- ‚úÖ Encoding (UTF-8)
- ‚úÖ –í–∞–ª–∏–¥–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –°—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –ë–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–æ—Å—Ç (–¥–µ–±–∏—Ç = –∫—Ä–µ–¥–∏—Ç)
- ‚úÖ –í–∞–ª–∏–¥–Ω–∏ —Å–º–µ—Ç–∫–∏ –æ—Ç —Å–º–µ—Ç–∫–æ–ø–ª–∞–Ω–∞
- ‚úÖ –í–∞–ª–∏–¥–Ω–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª–Ω–∏ –¥–∞—Ç–∏

### –î–î–° –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –í–∞–ª–∏–¥–Ω–∏ –î–î–° –∫–æ–¥–æ–≤–µ
- ‚úÖ –ü—Ä–∞–≤–∏–ª–Ω–∏ —Å—Ç–∞–≤–∫–∏ (0%, 9%, 20%)
- ‚úÖ –¢–æ—á–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è
- ‚úÖ –î–î–° —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏

## üìä –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ –∏–º–ø–æ—Ä—Ç–∏
- –°–ø–∏—Å—ä–∫ —Å—ä—Å –≤—Å–∏—á–∫–∏ –∏–º–ø–æ—Ä—Ç–∏
- –°—Ç–∞—Ç—É—Å –∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏
- –í—ä–∑–º–æ–∂–Ω–æ—Å—Ç –∑–∞ rollback
- –î–µ—Ç–∞–π–ª–Ω–∏ –ª–æ–≥–æ–≤–µ

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –û–±—â–æ –∏–º–ø–æ—Ä—Ç–∏
- –£—Å–ø–µ—à–Ω–∏ vs –≥—Ä–µ—à–∫–∏
- –ù–∞–π-—á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏
- Performance –º–µ—Ç—Ä–∏–∫–∏

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞ –∏–º–ø–æ—Ä—Ç
```json
{
  "maxFileSize": "50MB",
  "allowedFormats": [".xml", ".pdf", ".csv", ".xlsx"],
  "autoValidation": true,
  "defaultAccountMapping": {
    "601": "6010",
    "401": "4010"
  }
}
```

### Controlisy —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏
```json
{
  "ignoreAnalyticalItems": true,
  "groupEntriesByAccount": true,
  "validateVATCodes": true,
  "defaultVATRegister": "1"
}
```

### –ë–∞–Ω–∫–æ–≤–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏  
```json
{
  "mt940Encoding": "UTF-8",
  "csvDelimiter": ",",
  "dateFormat": "YYYY-MM-DD",
  "defaultBankAccount": "501"
}
```

## üö® –ì—Ä–µ—à–∫–∏ –∏ troubleshooting

### –ß–µ—Å—Ç–∏ –≥—Ä–µ—à–∫–∏

#### "–§–∞–π–ª—ä—Ç –Ω–µ –º–æ–∂–µ –¥–∞ —Å–µ –ø–∞—Ä—Å–Ω–µ"
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–∞ —Ñ–∞–π–ª–∞
- –£–≤–µ—Ä–µ—Ç–µ —Å–µ —á–µ –µ –≤–∞–ª–∏–¥–µ–Ω XML/CSV
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ encoding (—Ç—Ä—è–±–≤–∞ UTF-8)

#### "–î–æ–∫—É–º–µ–Ω—Ç—ä—Ç –Ω–µ –µ –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω"
- –î–µ–±–∏—Ç —Å—É–º–∞—Ç–∞ –Ω–µ –µ —Ä–∞–≤–Ω–∞ –Ω–∞ –∫—Ä–µ–¥–∏—Ç
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è—Ç–∞ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è —Ñ–∞–π–ª
- –í—ä–∑–º–æ–∂–Ω–æ –µ –≥—Ä–µ—à–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–≤–∞–Ω–µ—Ç–æ

#### "–ù–µ–≤–∞–ª–∏–¥–Ω–∞ —Å–º–µ—Ç–∫–∞"
- –°–º–µ—Ç–∫–∞—Ç–∞ –Ω–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –≤ —Å–º–µ—Ç–∫–æ–ø–ª–∞–Ω–∞
- –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –º–∞–ø–∏–Ω–≥ –∑–∞ –∫–æ—Ä–∏–≥–∏—Ä–∞–Ω–µ
- –î–æ–±–∞–≤–µ—Ç–µ —Å–º–µ—Ç–∫–∞—Ç–∞ –≤ —Å–º–µ—Ç–∫–æ–ø–ª–∞–Ω–∞

#### "–î–î–° –∫–æ–¥—ä—Ç –Ω–µ –µ –≤–∞–ª–∏–¥–µ–Ω"
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –ü–ü–ó–î–î–° –∫–æ–¥–æ–≤–µ—Ç–µ (01-95)
- –£–≤–µ—Ä–µ—Ç–µ —Å–µ –∑–∞ –ø—Ä–∞–≤–∏–ª–Ω–∞ –î–î–° –æ–ø–µ—Ä–∞—Ü–∏—è
- –ö–æ–Ω—Å—É–ª—Ç–∏—Ä–∞–π—Ç–µ —Å–µ —Å –ü–ü–ó–î–î–° –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞

### Debug —Ä–µ–∂–∏–º
```javascript
localStorage.setItem('debug-imports', 'true');
// –©–µ –ø–æ–∫–∞–∂–µ –ø–æ–¥—Ä–æ–±–Ω–∏ –ª–æ–≥–æ–≤–µ –≤ console
```

## üìà –ë—ä–¥–µ—â–∏ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è

- [x] **AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –∑–∞ —Ñ–∞–∫—Ç—É—Ä–∏ ‚úÖ DONE! (Mistral AI Vision)
- [x] **OCR –∑–∞ PDF —Ñ–∞–π–ª–æ–≤–µ** ‚úÖ DONE! (–í–≥—Ä–∞–¥–µ–Ω–æ –≤ AI Scanner)
- [ ] **AI –º–∞–ø–∏—Ä–∞–Ω–µ** –Ω–∞ —Å–º–µ—Ç–∫–∏
- [ ] **Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å –±–∞–Ω–∫–∏
- [ ] **Bulk edit** –Ω–∞ –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω–∏
- [ ] **Advanced —Ñ–∏–ª—Ç—Ä–∏** –≤ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞
- [ ] **Export –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏** –≤ —Ä–∞–∑–ª–∏—á–Ω–∏ —Ñ–æ—Ä–º–∞—Ç–∏
- [ ] **Email –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** –∑–∞ –∑–∞–≤—ä—Ä—à–µ–Ω–∏ –∏–º–ø–æ—Ä—Ç–∏
- [ ] **API –∑–∞ –ø—Ä–æ–≥—Ä–∞–º–µ–Ω –∏–º–ø–æ—Ä—Ç**
