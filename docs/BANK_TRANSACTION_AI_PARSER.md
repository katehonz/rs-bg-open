# AI –ü–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ –ë–∞–Ω–∫–æ–≤–∏ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ü§ñ

## –û–±—â–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑–≤–ª–∏—á–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏ –æ—Ç –æ–ø–∏—Å–∞–Ω–∏—è—Ç–∞ –Ω–∞ –±–∞–Ω–∫–æ–≤–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ Mistral AI. –¢–æ–≤–∞ —Å–ø–µ—Å—Ç—è–≤–∞ –≤—Ä–µ–º–µ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å—Ç–æ—Ç–∏—Ü–∏ –±–∞–Ω–∫–æ–≤–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–∞–Ω–∏ XML/CSV –∏–∑–≤–ª–µ—á–µ–Ω–∏—è.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–∞—Ä—Å–≤–∞–Ω–µ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç

–ü—Ä–∏ –∏–º–ø–æ—Ä—Ç –Ω–∞ –±–∞–Ω–∫–æ–≤–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è (XML, CSV, MT940), —Å–∏—Å—Ç–µ–º–∞—Ç–∞:
- ‚úÖ –ò–∑–≤–ª–∏—á–∞ –æ–ø–∏—Å–∞–Ω–∏—è—Ç–∞ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏—Ç–µ
- ‚úÖ –ü–∞—Ä—Å–≤–∞ –≥–∏ —Å Mistral AI –∑–∞ –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏
- ‚úÖ –¢—ä—Ä—Å–∏ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏ –≤ –±–∞–∑–∞—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –º–∞–ø–≤–∞ `counterpart_id` –∞–∫–æ –Ω–∞–º–µ—Ä–∏ —Å—ä–≤–ø–∞–¥–µ–Ω–∏–µ

### 2. –†—ä—á–Ω–æ –ø–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

–ó–∞ –≤–µ—á–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–∞–Ω–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ GraphQL mutations –∑–∞ —Ä—ä—á–Ω–æ –ø–∞—Ä—Å–≤–∞–Ω–µ.

## –ö–∞–∫–≤–æ —Å–µ –∏–∑–≤–ª–∏—á–∞

AI –ø–∞—Ä—Å–µ—Ä—ä—Ç –∏–∑–≤–ª–∏—á–∞ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç –æ–ø–∏—Å–∞–Ω–∏—è—Ç–∞:

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|----------|--------|
| `counterpartName` | –ò–º–µ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç (–ª–∞—Ç–∏–Ω–∏—Ü–∞ –∏–ª–∏ –∫–∏—Ä–∏–ª–∏—Ü–∞) | `GOLDEN FIRE LTD` |
| `eik` | –ï–ò–ö (9 –∏–ª–∏ 13 —Ü–∏—Ñ—Ä–∏) | `123456789` |
| `iban` | –ë–∞–Ω–∫–æ–≤–∞ —Å–º–µ—Ç–∫–∞ | `BG80BNBG96611020345678` |
| `bic` | SWIFT/BIC –∫–æ–¥ | `BNBGBGSD` |
| `city` | –ì—Ä–∞–¥/–Ω–∞—Å–µ–ª–µ–Ω–æ –º—è—Å—Ç–æ | `–°–æ—Ñ–∏—è`, `MIROVYANE` |
| `transactionType` | –¢–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è | `–ü–æ–∫—É–ø–∫–∞ –Ω–∞ –ü–û–°`, `–ü—Ä–µ–≤–æ–¥` |
| `confidence` | –£–≤–µ—Ä–µ–Ω–æ—Å—Ç –Ω–∞ AI (0.0-1.0) | `0.85` |

## –ü—Ä–∏–º–µ—Ä –∑–∞ —Ä–∞–±–æ—Ç–∞

### –í—Ö–æ–¥–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ:
```
–ü–æ–∫—É–ø–∫–∞ –Ω–∞ –ü–û–°,–¥—Ä—É–≥–∞ –±–∞–Ω–∫–∞ –≤ —Å—Ç—Ä–∞–Ω–∞—Ç–∞,10.40/100,GOLDEN FIRE LTD,MIROVYANE
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
```json
{
  "counterpartName": "GOLDEN FIRE LTD",
  "eik": null,
  "iban": null,
  "bic": null,
  "city": "–ú–∏—Ä–æ–≤—è–Ω–µ",
  "transactionType": "–ü–æ–∫—É–ø–∫–∞ –Ω–∞ –ü–û–°",
  "confidence": 0.92
}
```

## GraphQL Mutations

### 1. –ü–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ –µ–¥–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ

```graphql
mutation ParseDescription {
  parseBankTransactionDescription(
    description: "–ü–æ–∫—É–ø–∫–∞ –Ω–∞ –ü–û–°,–¥—Ä—É–≥–∞ –±–∞–Ω–∫–∞ –≤ —Å—Ç—Ä–∞–Ω–∞—Ç–∞,10.40/100,GOLDEN FIRE LTD,MIROVYANE"
  ) {
    counterpartName
    eik
    iban
    bic
    city
    transactionType
    confidence
    foundCounterpartId
  }
}
```

**–û—Ç–≥–æ–≤–æ—Ä:**
```json
{
  "data": {
    "parseBankTransactionDescription": {
      "counterpartName": "GOLDEN FIRE LTD",
      "eik": null,
      "iban": null,
      "bic": null,
      "city": "–ú–∏—Ä–æ–≤—è–Ω–µ",
      "transactionType": "–ü–æ–∫—É–ø–∫–∞ –Ω–∞ –ü–û–°",
      "confidence": 0.92,
      "foundCounterpartId": 45
    }
  }
}
```

–ü–æ–ª–µ—Ç–æ `foundCounterpartId` –ø–æ–∫–∞–∑–≤–∞ –¥–∞–ª–∏ –µ –Ω–∞–º–µ—Ä–µ–Ω —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç –≤ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏.

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ —Ü—è–ª –∏–º–ø–æ—Ä—Ç

```graphql
mutation AutoParseBankImport {
  autoParseBankImport(bankImportId: 123) {
    totalEntries
    parsedCount
    mappedCount
    failedCount
  }
}
```

**–û—Ç–≥–æ–≤–æ—Ä:**
```json
{
  "data": {
    "autoParseBankImport": {
      "totalEntries": 150,
      "parsedCount": 142,
      "mappedCount": 98,
      "failedCount": 8
    }
  }
}
```

**–ü–æ–ª–µ—Ç–∞:**
- `totalEntries`: –û–±—â –±—Ä–æ–π –∂—É—Ä–Ω–∞–ª–Ω–∏ –∑–∞–ø–∏—Å–∏
- `parsedCount`: –ë—Ä–æ–π —É—Å–ø–µ—à–Ω–æ –ø–∞—Ä—Å–Ω–∞—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏—è
- `mappedCount`: –ë—Ä–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –º–∞–ø–Ω–∞—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏
- `failedCount`: –ë—Ä–æ–π –Ω–µ—É—Å–ø–µ—à–Ω–∏ –ø–∞—Ä—Å–≤–∞–Ω–∏—è

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Mistral AI –º–æ–¥–µ–ª

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –∏–∑–ø–æ–ª–∑–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞ `mistral.api.model` –æ—Ç `contragent_settings`:

```sql
-- –ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ: mistral-small-latest
SELECT * FROM contragent_settings WHERE key = 'mistral.api.model';
```

**–ü—Ä–µ–ø–æ—Ä—ä—á–∞–Ω–∏ –º–æ–¥–µ–ª–∏:**

| –ú–æ–¥–µ–ª | –¶–µ–Ω–∞ | –¢–æ—á–Ω–æ—Å—Ç | –ü—Ä–µ–ø–æ—Ä—ä–∫–∞ |
|-------|------|---------|-----------|
| `mistral-small-latest` | $0.20/1M tokens | –î–æ–±—Ä–∞ | ‚≠ê –ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–µ–Ω |
| `mistral-tiny` | $0.15/1M tokens | –û—Å–Ω–æ–≤–Ω–∞ | –ó–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ |
| `mistral-large-latest` | $2.00/1M tokens | –û—Ç–ª–∏—á–Ω–∞ | –ö—Ä–∏—Ç–∏—á–Ω–∏ –¥–∞–Ω–Ω–∏ |

### API –∫–ª—é—á

Mistral API –∫–ª—é—á—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω –≤ Settings:

1. –û—Ç–∏–¥–µ—Ç–µ –Ω–∞ **Settings ‚Üí –ì–ª–æ–±–∞–ª–Ω–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏ –∏ Mistral AI**
2. –í—ä–≤–µ–¥–µ—Ç–µ Mistral API –∫–ª—é—á
3. –ó–∞–ø–∞–∑–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ

**–ò–ª–∏ —á—Ä–µ–∑ GraphQL:**

```graphql
mutation SetMistralKey {
  upsertContragentSetting(input: {
    key: "mistral.api.key"
    value: "your-api-key-here"
    description: "Mistral AI API –∫–ª—é—á"
    encrypted: false
  }) {
    id
    key
  }
}
```

## –ü–æ–¥–¥—ä—Ä–∂–∞–Ω–∏ –±–∞–Ω–∫–æ–≤–∏ —Ñ–æ—Ä–º–∞—Ç–∏

–ü–∞—Ä—Å–µ—Ä—ä—Ç —Ä–∞–±–æ—Ç–∏ —Å –≤—Å–∏—á–∫–∏ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–∏ –±–∞–Ω–∫–æ–≤–∏ —Ñ–æ—Ä–º–∞—Ç–∏:

- ‚úÖ **UniCredit MT940** - SWIFT —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª–æ–≤–µ
- ‚úÖ **Wise CAMT.053** - ISO20022 XML
- ‚úÖ **Revolut CAMT.053** - ISO20022 XML
- ‚úÖ **Paysera CAMT.053** - ISO20022 XML
- ‚úÖ **Postbank XML** - –°–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω XML —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ **OBB XML** - –û–±–µ–¥–∏–Ω–µ–Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∞ –±–∞–Ω–∫–∞ XML
- ‚úÖ **CCB CSV** - –¶–µ–Ω—Ç—Ä–∞–ª–Ω–∞ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –±–∞–Ω–∫–∞ CSV

## –†–∞–±–æ—Ç–∞ —Å –∫–∏—Ä–∏–ª–∏—Ü–∞ –∏ –ª–∞—Ç–∏–Ω–∏—Ü–∞

AI –ø–∞—Ä—Å–µ—Ä—ä—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- ‚úÖ –†–∞–∑–ø–æ–∑–Ω–∞–≤–∞ –∏–º–µ–Ω–∞ –Ω–∞ **–∫–∏—Ä–∏–ª–∏—Ü–∞** (`–ú–ò–†–û–í–Ø–ù–ï`)
- ‚úÖ –†–∞–∑–ø–æ–∑–Ω–∞–≤–∞ –∏–º–µ–Ω–∞ –Ω–∞ **–ª–∞—Ç–∏–Ω–∏—Ü–∞** (`GOLDEN FIRE LTD`)
- ‚úÖ –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–∞ –∫–∏—Ä–∏–ª–∏—Ü–∞ ‚Üí –ª–∞—Ç–∏–Ω–∏—Ü–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç
- ‚úÖ –ò–∑–≤–ª–∏—á–∞ —Å–º–µ—Å–µ–Ω–∏ –æ–ø–∏—Å–∞–Ω–∏—è (–∫–∏—Ä–∏–ª–∏—Ü–∞ + –ª–∞—Ç–∏–Ω–∏—Ü–∞)

## Workflow –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç

```mermaid
graph TD
    A[–ò–º–ø–æ—Ä—Ç –Ω–∞ XML/CSV] --> B[–ü–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏]
    B --> C[–°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ journal_entries]
    C --> D{AI –ø–∞—Ä—Å–≤–∞–Ω–µ –≤–∫–ª—é—á–µ–Ω–æ?}
    D -->|–î–∞| E[Mistral AI –∏–∑–≤–ª–∏—á–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏]
    D -->|–ù–µ| F[–†—ä—á–Ω–æ –≤—ä–≤–µ–∂–¥–∞–Ω–µ]
    E --> G{–ù–∞–º–µ—Ä–µ–Ω –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç?}
    G -->|–î–∞| H[–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –º–∞–ø–≤–∞–Ω–µ]
    G -->|–ù–µ| I[–ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è]
    H --> J[–ó–∞–≤—ä—Ä—à–µ–Ω –∑–∞–ø–∏—Å]
    I --> J
    F --> J
```

## –ü—Ä–∏–º–µ—Ä–∏ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ

### –ü—Ä–∏–º–µ—Ä 1: –Æ—Ä–æ–±–∞–Ω–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
```
–ë–∞–Ω–∫–æ–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Æ—Ä–æ–±–∞–Ω–∫ –û–ï–ì ‚Äî –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å –î–ö 516905XXXXXX2355,2803,01.07.2025 14:53:08,
–ü–æ–∫—É–ø–∫–∞ –Ω–∞ –ü–û–°,–¥—Ä—É–≥–∞ –±–∞–Ω–∫–∞ –≤ —Å—Ç—Ä–∞–Ω–∞—Ç–∞,10.40/100,GOLDEN FIRE LTD,MIROVYANE AIRU41453,93912065,
–ü–æ–∫—É–ø–∫–∞ –Ω–∞ –ü–û–°,–¥—Ä—É–≥–∞ –±–∞–Ω–∫–∞ POS
```

**–ò–∑–≤–ª–µ—á–µ–Ω–æ:**
- –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç: `GOLDEN FIRE LTD`
- –ì—Ä–∞–¥: `MIROVYANE` (–ú–∏—Ä–æ–≤—è–Ω–µ)
- –¢–∏–ø: `–ü–æ–∫—É–ø–∫–∞ –Ω–∞ –ü–û–°`
- –†–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è: `AIRU41453`

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–µ–≤–æ–¥ —Å –ï–ò–ö

**–û–ø–∏—Å–∞–Ω–∏–µ:**
```
–ò–∑—Ö–æ–¥—è—â –ø—Ä–µ–≤–æ–¥ –∫—ä–º –ê–í–¢–û–¢–†–ê–ù–° –ï–û–û–î, –ï–ò–ö 123456789, IBAN: BG80BNBG96611020345678
```

**–ò–∑–≤–ª–µ—á–µ–Ω–æ:**
- –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç: `–ê–í–¢–û–¢–†–ê–ù–° –ï–û–û–î`
- –ï–ò–ö: `123456789`
- IBAN: `BG80BNBG96611020345678`
- –¢–∏–ø: `–ò–∑—Ö–æ–¥—è—â –ø—Ä–µ–≤–æ–¥`

### –ü—Ä–∏–º–µ—Ä 3: POS —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
```
LIDL BULGARIA EOOD, –ß–∞—Å 13:24, –°–æ—Ñ–∏—è, –ë—É–ª—Å—Ç–∞—Ç 175468932
```

**–ò–∑–≤–ª–µ—á–µ–Ω–æ:**
- –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç: `LIDL BULGARIA EOOD`
- –ï–ò–ö: `175468932`
- –ì—Ä–∞–¥: `–°–æ—Ñ–∏—è`
- –ß–∞—Å: `13:24`

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º: AI –Ω–µ –∏–∑–≤–ª–∏—á–∞ –¥–∞–Ω–Ω–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ Mistral API –∫–ª—é—á—ä—Ç –µ –≤–∞–ª–∏–¥–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `confidence` - –∞–∫–æ –µ –ø–æ–¥ 0.3, —Ä–µ–∑—É–ª—Ç–∞—Ç—ä—Ç —Å–µ –∏–≥–Ω–æ—Ä–∏—Ä–∞
3. –û–ø–∏—Ç–∞–π—Ç–µ —Å –ø–æ-–º–æ—â–µ–Ω –º–æ–¥–µ–ª (`mistral-small-latest` –≤–º–µ—Å—Ç–æ `mistral-tiny`)

### –ü—Ä–æ–±–ª–µ–º: –ì—Ä–µ—à–Ω–æ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞–Ω–µ –Ω–∞ –∏–º–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `mistral-large-latest` –∑–∞ –ø–æ-–¥–æ–±—Ä–∞ —Ç–æ—á–Ω–æ—Å—Ç
2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ—Ç–æ - –º–æ–∂–µ –¥–∞ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ—á–∏—Å—Ç–≤–∞–Ω–µ
3. –°—ä–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ —Ä—ä—á–Ω–æ –∏ AI —â–µ –≥–æ –Ω–∞–º–µ—Ä–∏ –ø—Ä–∏ —Å–ª–µ–¥–≤–∞—â–æ –ø–∞—Ä—Å–≤–∞–Ω–µ

### –ü—Ä–æ–±–ª–µ–º: –ë–∞–≤–Ω–æ –ø–∞—Ä—Å–≤–∞–Ω–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–∞—Ä—Å–≤–∞–Ω–µ—Ç–æ –µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ —Ä–∞–±–æ—Ç–∏ –ø–∞—Ä–∞–ª–µ–ª–Ω–æ
2. –ó–∞ –≥–æ–ª—è–º –∏–º–ø–æ—Ä—Ç (1000+ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏) –º–æ–∂–µ –¥–∞ –æ—Ç–Ω–µ–º–µ 2-5 –º–∏–Ω—É—Ç–∏
3. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `autoParseBankImport` mutation –∑–∞ batch –æ–±—Ä–∞–±–æ—Ç–∫–∞

## –†–∞–∑—Ö–æ–¥–∏

–ü—Ä–∏ **150 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** –º–µ—Å–µ—á–Ω–æ:

| –ú–æ–¥–µ–ª | –¶–µ–Ω–∞ –º–µ—Å–µ—á–Ω–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|--------------|----------|
| `mistral-tiny` | ~$0.01 | –ë–∞–∑–æ–≤–æ –Ω–∏–≤–æ |
| `mistral-small-latest` | ~$0.02 | ‚≠ê –û–ø—Ç–∏–º–∞–ª–µ–Ω –±–∞–ª–∞–Ω—Å |
| `mistral-large-latest` | ~$0.20 | –ü—Ä–µ–º–∏—É–º —Ç–æ—á–Ω–æ—Å—Ç |

–°—Ä–µ–¥–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: ~50 —Ç–æ–∫–µ–Ω–∞
–ò–∑—Ö–æ–¥–µ–Ω –æ—Ç–≥–æ–≤–æ—Ä: ~100 —Ç–æ–∫–µ–Ω–∞
–û–±—â–æ: 150 tokens √ó 150 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ = 22,500 tokens ‚âà $0.02/–º–µ—Å–µ—Ü

## –ë—ä–¥–µ—â–∏ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è

- [ ] Automatic creation of new counterparts
- [ ] Learning from user corrections
- [ ] Regex fallback for common patterns
- [ ] Multi-language support (English descriptions)
- [ ] Batch processing with progress tracking
- [ ] Integration with Global Contragents validation

## –§–∞–π–ª–æ–≤–µ

**Backend:**
- `/backend/src/services/bank_transaction_parser.rs` - AI –ø–∞—Ä—Å—ä—Ä
- `/backend/src/services/bank_imports.rs` - –ë–∞–Ω–∫–æ–≤ –∏–º–ø–æ—Ä—Ç
- `/backend/src/graphql/bank_resolvers.rs` - GraphQL mutations

**Frontend:** (–ø—Ä–µ–¥—Å—Ç–æ–∏)
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ —Ä—ä—á–Ω–æ –ø–∞—Ä—Å–≤–∞–Ω–µ
- Bulk import —Å AI –º–∞–ø–≤–∞–Ω–µ
- –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –ø–∞—Ä—Å–∏—Ä–∞–Ω–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏

---

ü§ñ –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–æ —Å Claude Code
