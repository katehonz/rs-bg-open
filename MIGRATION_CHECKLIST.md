# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∑–∞ –º–∏–≥—Ä–∞—Ü–∏—è –∫—ä–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏–∑–∏

## üîí –ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–æ—á–Ω–µ—à

- [ ] **BACKUP –Ω–∞ production –±–∞–∑–∞** - –∏–∑–ø—ä–ª–Ω–∏ `./backup_critical_data.sh`
- [ ] **–¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ backup** - –≤—ä–∑—Å—Ç–∞–Ω–æ–≤–∏ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞ –±–∞–∑–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∏
- [ ] **–ö–æ–ø–∏–µ –Ω–∞ —Ü—è–ª–∞—Ç–∞ –ø–∞–ø–∫–∞** - –∞—Ä—Ö–∏–≤–∏—Ä–∞–π —Ü—è–ª–∏—è –ø—Ä–æ–µ–∫—Ç
- [ ] **Git commit** –Ω–∞ –≤—Å–∏—á–∫–∏ –ø—Ä–æ–º–µ–Ω–∏
- [ ] **–£–≤–µ–¥–æ–º–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ** –∑–∞ –ø–ª–∞–Ω–∏—Ä–∞–Ω–∏—è maintenance

## üèóÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Å—Ö–µ–º–∞—Ç–∞ –≤ `MIGRATION_PLAN.md`
- [x] Backup —Å–∫—Ä–∏–ø—Ç `backup_critical_data.sh` 
- [ ] Export –Ω–∞ –≤—Å–∏—á–∫–∏ migration —Ñ–∞–π–ª–æ–≤–µ
- [ ] –¢–µ—Å—Ç –Ω–∞ restore –ø—Ä–æ—Ü–µ–¥—É—Ä–∏

### 2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è  
- [x] `docker-compose.yml` –∑–∞ –≤—Å–∏—á–∫–∏ —Å–µ—Ä–≤–∏–∑–∏
- [x] `Dockerfile.accounting` –∑–∞ Rust —Å–µ—Ä–≤–∏–∑–∞
- [x] `.env.example` –∑–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [ ] Dockerfiles –∑–∞ Java —Å–µ—Ä–≤–∏–∑–∏—Ç–µ (–∫–æ–≥–∞—Ç–æ —Å–µ —Å—ä–∑–¥–∞–¥–∞—Ç)

### 3. –°–º–µ—Ç–∫–æ–ø–ª–∞–Ω (–ö–†–ò–¢–ò–ß–ù–û!)
- [ ] Export –≤ CSV: `chart_of_accounts.csv`
- [ ] SQL dump: `chart_of_accounts_backup.sql`  
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—Å–∏—á–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª—Å–∫–∏ –≤—Ä—ä–∑–∫–∏
- [ ] –ë—Ä–æ–π–∫–∞ –∑–∞–ø–∏—Å–∏ –ø—Ä–µ–¥–∏/—Å–ª–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è

## üöÄ –ü–æ–µ—Ç–∞–ø–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è

### –§–∞–∑–∞ 1: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–æ—Ç–æ
```bash
# 1. Backup
./backup_critical_data.sh

# 2. –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –≤ Docker
cp .env.example .env
# –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π .env —Å –ø—Ä–∞–≤–∏–ª–Ω–∏ –ø–∞—Ä–æ–ª–∏
docker-compose up -d db redis
# –ß–∞–∫–∞–π db –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞
docker-compose up accounting-service
```

- [ ] DB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç–∞—Ä—Ç–∏—Ä–∞ —É—Å–ø–µ—à–Ω–æ
- [ ] Rust —Å–µ—Ä–≤–∏–∑ —Å–µ —Å–≤—ä—Ä–∑–≤–∞ –∫—ä–º DB
- [ ] –í—Å–∏—á–∫–∏ migration —Ñ–∞–π–ª–æ–≤–µ —Å–µ –ø—Ä–∏–ª–∞–≥–∞—Ç
- [ ] Frontend —Å–µ —Å–≤—ä—Ä–∑–≤–∞ –∫—ä–º backend API
- [ ] –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏

### –§–∞–∑–∞ 2: Java –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–µ–Ω —Å–µ—Ä–≤–∏–∑
```bash
# –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ Spring Boot –ø—Ä–æ–µ–∫—Ç
mkdir auth-service
cd auth-service
# ... Spring Boot setup
```

- [ ] Spring Boot setup —Å PostgreSQL
- [ ] JWT authentication
- [ ] User management API
- [ ] Company access control
- [ ] Integration —Å Rust —Å–µ—Ä–≤–∏–∑–∞

### –§–∞–∑–∞ 3: Java –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∏ —Å–µ—Ä–≤–∏–∑  
```bash
mkdir counterparty-service
# ... Spring Boot setup —Å VIES –∏ AI
```

- [ ] Counterparties CRUD API
- [ ] VAT VIES –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] AI –∞–¥—Ä–µ—Å–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞ SAF-T
- [ ] –ì–µ–æ–∫–æ–¥–∏—Ä–∞–Ω–µ
- [ ] Integration —Å main accounting —Å–µ—Ä–≤–∏–∑

### –§–∞–∑–∞ 4: API —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–∞–Ω–µ
- [ ] –†–∞–∑–¥–µ–ª—è–Ω–µ –Ω–∞ endpoints –º–µ–∂–¥—É —Å–µ—Ä–≤–∏–∑–∏—Ç–µ
- [ ] –ú–µ–∂–¥—É—Å–µ—Ä–≤–∏–∑–Ω–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è (REST/gRPC)
- [ ] Error handling –∏ circuit breakers
- [ ] Distributed logging

## üîç –¢–µ—Å—Ç–æ–≤–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ
- [ ] –í—Ö–æ–¥ –∏ –æ—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—è—Ç
- [ ] –°—á–µ—Ç–æ–≤–æ–¥–Ω–∏ –∑–∞–ø–∏—Å–∏ —Å–µ —Å—ä–∑–¥–∞–≤–∞—Ç –ø—Ä–∞–≤–∏–ª–Ω–æ
- [ ] –ù–ê–ü –µ–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–∞
- [ ] –ö–æ–Ω—Ç—Ä–æ–ª–∏—Å–∏ –∏–º–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∏
- [ ] –î–î–° –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ —Å–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞—Ç
- [ ] INTRASTAT –º–æ–¥—É–ª —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–∞

### –î–∞–Ω–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ  
- [ ] –í—Å–∏—á–∫–∏ —Ç–∞–±–ª–∏—Ü–∏ —Å–∞ –Ω–∞–ª–∏—á–Ω–∏
- [ ] –°–º–µ—Ç–∫–æ–ø–ª–∞–Ω—ä—Ç –µ –∏–∑—Ü—è–ª–æ –º–∏–≥—Ä–∏—Ä–∞–Ω
- [ ] –ë—Ä–æ—è—Ç –∑–∞–ø–∏—Å–∏ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∞ –Ω–∞ backup-–∞
- [ ] –í—Ä—ä–∑–∫–∏—Ç–µ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∏—Ç–µ —Å–∞ –∑–∞–ø–∞–∑–µ–Ω–∏
- [ ] UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–∞—Ç–∞ –µ –ø—Ä–∞–≤–∏–ª–Ω–∞

### Performance —Ç–µ—Å—Ç–æ–≤–µ
- [ ] Response –≤—Ä–µ–º–µ–Ω–∞ —Å–∞ –ø—Ä–∏–µ–º–ª–∏–≤–∏  
- [ ] DB connections —Å–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∏
- [ ] Memory usage –µ –≤ –Ω–æ—Ä–º–∞
- [ ] Load balancing —Ä–∞–±–æ—Ç–∏ (–∞–∫–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞)

## üö® Rollback –ø–ª–∞–Ω

–ê–∫–æ –Ω–µ—â–æ —Å–µ –æ–±—ä—Ä–∫–∞:

1. **–°–ø—Ä–∏ –≤—Å–∏—á–∫–∏ –Ω–æ–≤–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏**
   ```bash
   docker-compose down
   ```

2. **–í—ä–∑—Å—Ç–∞–Ω–æ–≤–∏ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏**
   ```bash
   # –í—ä–∑—Å—Ç–∞–Ω–æ–≤–∏ –æ—Ç –ø—ä–ª–Ω–∏—è backup
   psql -h HOST -U USER -d DATABASE -f migration_backups/LATEST/full_database_backup.sql
   ```

3. **–°—Ç–∞—Ä—Ç–∏—Ä–∞–π —Å—Ç–∞—Ä–∏—è –∫–æ–¥**
   ```bash
   # –°—Ç–∞—Ä—Ç–∏—Ä–∞–π Rust backend –∫–∞–∫—Ç–æ –ø—Ä–µ–¥–∏
   cargo run
   ```

## üìã Production deployment

### CI/CD Pipeline
- [ ] GitLab CI/CD –∑–∞ –≤—Å–∏—á–∫–∏ —Å–µ—Ä–≤–∏–∑–∏
- [ ] Automated testing
- [ ] Docker image builds
- [ ] Database migrations –≤ pipeline

### Monitoring & Logging
- [ ] Health checks –∑–∞ –≤—Å–∏—á–∫–∏ —Å–µ—Ä–≤–∏–∑–∏
- [ ] Structured logging (JSON)
- [ ] Metrics collection (Prometheus?)
- [ ] Alert setup –∑–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏ –≥—Ä–µ—à–∫–∏

### Security
- [ ] Secrets management (–Ω–µ –≤ git!)
- [ ] HTTPS setup —Å –≤–∞–ª–∏–¥–µ–Ω SSL
- [ ] Database connection encryption
- [ ] API rate limiting

### Backup automation
- [ ] Automated daily backups
- [ ] Offsite backup storage
- [ ] Backup testing procedures
- [ ] Recovery time objectives (RTO)

## ‚ö° –ê–≤–∞—Ä–∏–π–Ω–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∏

- **DB Admin**: [–∏–º–µ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω]  
- **DevOps**: [–∏–º–µ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω]
- **Business owner**: [–∏–º–µ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω]

## üìù –°–ª–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è—Ç–∞

- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∞—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [ ] –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –µ–∫–∏–ø–∞ –∑–∞ –Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å–∏
- [ ] Performance baseline –∏–∑–º–µ—Ä–µ–Ω–∏—è
- [ ] Post-migration review meeting
- [ ] –ü–ª–∞–Ω–∏—Ä–∞–Ω–µ –Ω–∞ —Å–ª–µ–¥–≤–∞—â–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üéØ –ö–ª—é—á–æ–≤–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∑–∞ —É—Å–ø–µ—Ö

‚úÖ **–£—Å–ø–µ—à–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –∫–æ–≥–∞—Ç–æ:**
- –í—Å–∏—á–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—è—Ç –∫–∞–∫—Ç–æ –ø—Ä–µ–¥–∏
- –î–∞–Ω–Ω–∏—Ç–µ —Å–∞ –∏–∑—Ü—è–ª–æ –∑–∞–ø–∞–∑–µ–Ω–∏ (–æ—Å–æ–±–µ–Ω–æ —Å–º–µ—Ç–∫–æ–ø–ª–∞–Ω—ä—Ç!)  
- Response –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ —Å–∞ –ø—Ä–∏–µ–º–ª–∏–≤–∏
- –ù—è–º–∞ –∑–∞–≥—É–±–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç
- –ï–∫–∏–ø—ä—Ç –º–æ–∂–µ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞ –Ω–æ–≤–∞—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

‚ö†Ô∏è **–ß–µ—Ä–≤–µ–Ω–∏ —Ñ–ª–∞–≥–æ–≤–µ:**
- –õ–∏–ø—Å–≤–∞—Ç –∑–∞–ø–∏—Å–∏ –≤ –∫—Ä–∏—Ç–∏—á–Ω–∏ —Ç–∞–±–ª–∏—Ü–∏
- –°–º–µ—Ç–∫–æ–ø–ª–∞–Ω—ä—Ç –∏–º–∞ –≥—Ä–µ—à–Ω–∏ –≤—Ä—ä–∑–∫–∏
- API response-–∏—Ç–µ —Å–∞ –º–Ω–æ–≥–æ –±–∞–≤–Ω–∏
- –ß–µ—Å—Ç–æ –∫—Ä–∞—à–≤–∞–Ω–µ –Ω–∞ —Å–µ—Ä–≤–∏–∑–∏  
- –ó–∞–≥—É–±–∞ –Ω–∞ user sessions